```{r,echo=FALSE}
library(reticulate)
options(scipen=999)
pfix = function(c,d){
    p = paste0("{",c,"}x^{",d,"}",collapse="+")
    p = gsub("x^{0}","",p,fixed=T)
    p = gsub("x^{1}","x",p,fixed=T)
    p = gsub("+{-","-{",p,fixed=T)
    p = gsub("+{1}x","+x",p,fixed=T)
    p = gsub("-{1}x","-x",p,fixed=T)
    p = gsub("{-1}x","-x",p,fixed=T)
    p = gsub("{1}x","x",p,fixed=T)
    return(p)
}

while(T){
    rs = sort(sample(c(-9:-1,1:9),2))
    A = 1
    B = sum(-rs)
    C = prod(rs)
    
    h = mean(rs)
    k = A*h^2+B*h+C
    if(abs(diff(rs))>3 && h%%1==0 && h!=0){break}
}

rs1 = abs(rs)
rs2 = rs1*c(1,-1)
rs3 = rs1*c(-1,1)
rs4 = rs1*c(-1,-1)
rrr = list(rs1,rs2,rs3,rs4)

corr=-666
for(i in 1:4){
    if(sum(rrr[[i]]==rs)==2){corr=i}
}
ord1 = sample(1:4)
ord2 = sample(1:4)
ord3 = sample(1:4)
sol1 = paste0(1*(ord1==corr),collapse="")
sol2 = paste0(1*(ord2==corr),collapse="")
sol3 = paste0(1*(ord3==corr),collapse="")

q1opts = c(paste0("$f(x) = (",pfix(c(1,-rs1[1]),1:0),")\\cdot (",pfix(c(1,-rs1[2]),1:0),")$"),
           paste0("$f(x) = (",pfix(c(1,-rs2[1]),1:0),")\\cdot (",pfix(c(1,-rs2[2]),1:0),")$"),
           paste0("$f(x) = (",pfix(c(1,-rs3[1]),1:0),")\\cdot (",pfix(c(1,-rs3[2]),1:0),")$"),
           paste0("$f(x) = (",pfix(c(1,-rs4[1]),1:0),")\\cdot (",pfix(c(1,-rs4[2]),1:0),")$")
)

q2opts = c(paste0("$f(x) = ",pfix(c(1,-rs1[1]-rs1[2],prod(rs1)),2:0),"$"),
           paste0("$f(x) = ",pfix(c(1,-rs2[1]-rs2[2],prod(rs2)),2:0),"$"),
           paste0("$f(x) = ",pfix(c(1,-rs3[1]-rs3[2],prod(rs3)),2:0),"$"),
           paste0("$f(x) = ",pfix(c(1,-rs4[1]-rs4[2],prod(rs4)),2:0),"$")
)

q3opts = character()
for(i in 1:4){
    hh = mean(rrr[[i]])
    kk = (hh-rrr[[i]][1])*(hh-rrr[[i]][2])
    myst = paste0("$f(x)~=~(x-",hh,")^2-",-kk,"$",collapse="")
    myst = gsub("--","+",myst,fixed=T)
    q3opts = c(q3opts,myst)
}

```


Question
========

A quadratic polynomial, $f(x)$, is generated by randomly selecting two parameters, $B$ and $C$, in the equation below.

$$f(x)~=~x^2+Bx+C$$

Notice the leading coefficient (of the quadratic term) is 1. However the linear coefficient and the constant are randomly determined.

When $y=f(x)$ is graphed below, you notice it has zeros (roots, $x$-intercepts) at coordinates $(`r rs[1]`,0)$ and $(`r rs[2]`,0)$.

```{r,echo=F,fig.dim=c(8,6)}
x = seq(-10,10,0.01)
plot(x,A*x^2+B*x+C,"l",col="blue",lwd=2,xlim=c(-12,12),
     ylim=c(-abs(k)*3/2,abs(k)*3/2),ylab="f(x)",xlab="x",axes=F,ann=F)
for(i in -10:10){
    lines(c(i,i),c(abs(k)/10,-abs(k)/10))
}
text(-10,-abs(k)/5,"-10")
text(10,-abs(k)/5,"10")
arrows(-11,0,11,0,0.1,15,3)
arrows(0,abs(k)*1.4,0,-abs(k)*1.4,0.1,15,3)
points(rs,c(0,0),pch=20,col="red",cex=2)
text(rs[1]-0.5,-abs(k)/3,paste0("(",rs[1],",0)"),col="red")
text(rs[2]+0.5,-abs(k)/3,paste0("(",rs[2],",0)"),col="red")
points(h,k,pch=20,cex=2,col="purple")
text(h,k-abs(k)/4,"(h,k)",col="purple")
text(12,0,"x",cex=1.5)
text(0,abs(k)*3/2,"y",cex=1.5)

```
\

### Factored form

The polynomial $f(x)$ can be expressed in **factored form**. Which option correctly expresses $f(x)$ in factored form?

a. `r q1opts[ord1[1]]`
b. `r q1opts[ord1[2]]`
c. `r q1opts[ord1[3]]`
d. `r q1opts[ord1[4]]`

##ANSWER1##

### Standard (expanded) form

The polynomial $f(x)$ can be expressed in **standard form**. Which option correctly expresses $f(x)$ in standard form?

g. `r q2opts[ord2[1]]`
h. `r q2opts[ord2[2]]`
i. `r q2opts[ord2[3]]`
j. `r q2opts[ord2[4]]`

##ANSWER2##

### Vertex form

The polynomial $f(x)$ can be expressed in **vertex form**:

$$f(x)~=~ (x-h)^2+k$$

where coordinates $(h,k)$ are at the vertex of the parabola (as marked on the graph). Which option correctly expresses $f(x)$ in vertex form?


p. `r q3opts[ord3[1]]`
q. `r q3opts[ord3[2]]`
r. `r q3opts[ord3[3]]`
s. `r q3opts[ord3[4]]`

##ANSWER3##

Answerlist
--------

* a
* b
* c
* d
* g
* h
* i
* j
* p
* q
* r
* s

Solution
========

If the zeros are at $(p,0)$ and $(q,0)$, then the factored form will be: $f(x)~=~(x-p)\cdot(x-q)$. In our case, $p=`r rs[1]`$ and $q=`r rs[2]`$, so in factored form:

$`r q1opts[corr]`$

To get the standard (expanded) form, we can multiply the two linear binomials (using the [FOIL method](https://en.wikipedia.org/wiki/FOIL_method) or box method).

```{css,echo=F}
.boxy td {
    border: 1px solid black;
    color: black;
    background-color: white;
  }
.boxy th {
    background-color: rgb(200, 200, 200);
    color: black;
    border: 1px solid black;
  }
.boxy td:first-child {
    background-color: rgb(200, 200, 200);
    color: black;
    border: 1px solid black;
  }
  
```

<div class="boxy">

| * | $x$ | $`r -rs[1]`$ |
|:---:|:---:|:---:|
| $x$ | $x^2$ | $`r pfix(-rs[1],1)`$ |
| $`r -rs[2]`$ | $`r pfix(-rs[2],1)`$ | $`r prod(rs)`$ |

</div>

```{r,echo=F}
pef = pfix(c(1,-rs[2],-rs[1],prod(rs)),c(2,1,1,0))
pec = pfix(c(1,-rs[1]-rs[2],prod(rs)),c(2,1,0))
```

$$f(x)~=~`r pef`$$

Combine like terms.

$$f(x)~=~`r pec`$$

To get the vertex form, first average $p$ and $q$ to get $h$.

$$h~=~ \frac{`r pfix(rs,c(0,0))`}{2} ~=~ `r mean(rs)`$$

Then, plug $x=`r h`$ into the factored form or the standard form to get $k$.

$$k~=~(`r pfix(c(h,-rs[1]),c(0,0))`)\cdot(`r pfix(c(h,-rs[2]),c(0,0))`) ~=~ `r k`$$
$$k~=~(`r h`)^2+(`r B`)(`r h`)+(`r C`) ~=~ `r k`$$

So,

$`r q3opts[corr]`$


Meta-information
============
extype: cloze
exclozetype: schoice|schoice|schoice
exsolution: `r sol1`|`r sol2`|`r sol3`
exname: quadratic_from_zeros