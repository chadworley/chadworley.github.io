```{r,echo=FALSE}
pn = function(c,d){
    cc = c[c!=0]
    dd = d[c!=0]
    p = paste0("{",cc,"}x^{",dd,"}",collapse="+")
    p = gsub("x^{0}","",p,fixed=T)
    p = gsub("x^{1}","x",p,fixed=T)
    p = gsub("+{-","-{",p,fixed=T)
    p = gsub("+{1}x","+x",p,fixed=T)
    p = gsub("-{1}x","-x",p,fixed=T)
    p = gsub("{-1}x","-x",p,fixed=T)
    p = gsub("{1}x","x",p,fixed=T)
    return(p)
}


funcs = list(function(x,A,M){M*(x+A)},
             function(x,A,M){M*x+A},
             function(x,A,M){M*(x-A)},
             function(x,A,M){M*x-A},
             function(x,A,M){(x+A)/M},
             function(x,A,M){x/M+A},
             function(x,A,M){(x-A)/M},
             function(x,A,M){x/M-A}
             )

func2 = list(function(x,A,M){x+A},
             function(x,A,M){M*x},
             function(x,A,M){x-A},
             function(x,A,M){M*x},
             function(x,A,M){x+A},
             function(x,A,M){x/M},
             function(x,A,M){x-A},
             function(x,A,M){x/M}
             )

exp_frames = c("M\\left(x+A\\right)",
               "M x+A",
               "M\\left(x-A\\right)",
               "M x-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")


exp_frame2 = c("x+A",
               "M x",
               "x-A",
               "M x",
               "x+A",
               "\\frac{x}{M}",
               "x-A",
               "\\frac{x}{M}")


wd1 = c("add A to both sides",
        "multiply both sides by M",
        "subtract A from both sides",
        "multiply both sides by M",
        "add A to both sides",
        "divide both sides by M",
        "subtract A from both sides",
        "divide both sides by M")

wd2 = c("multiply both sides by M",
        "add A to both sides",
        "multiply both sides by M",
        "subtract A from both sides",
        "divide both sides by M",
        "add A to both sides",
        "divide both sides by M",
        "subtract A from both sides")

qt = sample(1:8,1)

while(T){
    twonums = sample(4:10,2)
    nk = twonums[1]^2
    snk = round(sqrt(nk))
    h = twonums[2]*sample(c(-1,1),1)
    x1 = h+snk
    x2 = h-snk
    AM = sample(2:20,2)
    A = AM[1]
    M = AM[2]
    RS = funcs[[qt]](nk,A,M)
    RS2 = func2[[qt]](nk,A,M)
    if(RS %% 1 == 0 && abs(RS)>0 && abs(RS)<150 && abs(RS2)<150){break}
}

eq2 = exp_frame2[qt]
eq2 = gsub("M",M,eq2,fixed=T)
eq2 = gsub("A",A,eq2,fixed=T)
eq2 = gsub("x",paste0("(",pn(c(1,-h),1:0),")^2",collapse=""),eq2,fixed=T)


ach = -20:20

sol1 = ach==x1
sol2 = ach==x2
sol = sol1 + sol2
sol = paste0(1*(sol!=0),collapse="")

al = paste0("* $x=",ach,"$",collapse="\n")

eq = exp_frames[qt]
eq = gsub("M",M,eq,fixed=T)
eq = gsub("A",A,eq,fixed=T)
eq = gsub("x",paste0("(",pn(c(1,-h),1:0),")^2",collapse=""),eq,fixed=T)

wdA = wd1[9-qt]
wdA = gsub("A",A,wdA,fixed=T)
wdA = gsub("M",M,wdA,fixed=T)

wdB = wd2[9-qt]
wdB = gsub("A",A,wdB,fixed=T)
wdB = gsub("M",M,wdB,fixed=T)

if(h>0){
    wawa = paste0("Add ",abs(h)," to both sides.")
} else {
    wawa = paste0("Subtract ",abs(h)," from both sides.")
}


```

Question
========

Find all solutions to the equation below:

$$`r eq`~=~`r RS`$$


Answerlist
-------

`r al`


Solution
========

$$`r eq`~=~`r RS`$$

First, `r wdA`.

$$`r eq2`~=~`r RS2`$$

Second, `r wdB`.


$$(`r pn(c(1,-h),1:0)`)^2~=~`r nk`$$

Undo the squaring. Remember the plus-minus symbol!


$$`r pn(c(1,-h),1:0)`~=~\pm`r snk`$$

`r wawa`

$$x~=~`r h`\pm`r snk`$$

So the two solutions are $x=`r x1`$ and $x=`r x2`$.




Meta-information
============
extype: mchoice
exsolution: `r sol`
exname: solve_sqr_x_eq_B