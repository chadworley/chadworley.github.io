---
output: pdf_document
params:
    rseed: 0
    showsol: true
---

Name: \vspace{5pt} \hrule

## at1121exam_practice: Radicals and Completing Squares (v`r params$rseed`)


```{r,echo=F}
if(params$rseed !=0){
    set.seed(params$rseed)
}

pn = function(coeffs,pows){
    pows = pows[coeffs!=0]
    coeffs = coeffs[coeffs!=0]
    ex1 = paste0("{",coeffs,"}x^{",pows,"}",collapse="+")
    ex1 = gsub("+{-","-{",ex1,fixed=T)
    ex1 = gsub("{1}x^{0}","1",ex1,fixed=T)
    ex1 = gsub("{-1}x^{0}","-1",ex1,fixed=T)
    ex1 = gsub("{1}x","x",ex1,fixed=T)
    ex1 = gsub("{-1}x","-x",ex1,fixed=T)
    ex1 = gsub("x^{0}","",ex1,fixed=T)
    ex1 = gsub("x^{1}","x",ex1,fixed=T)
    ex1 = gsub("+-","-",ex1,fixed=T)
    if(ex1 == ""){
        ex1 = "0"
    }
    return(ex1)
}
gcd2 <- function(a, b) {
    if (b == 0) a else Recall(b, a %% b)
}
gcd <- function(...) Reduce(gcd2, c(...))
```



```{r q1,echo=F}

pr1s = numeric()
pr2s = numeric()
xsqs = numeric()

for(i in 1:3){
    while(T){
        primes = c(2,3,5,7,11)
        pr = sample(primes,2,T)
        xsq = pr[1]^2*pr[2]
        if(xsq<101 && !(xsq%in%xsqs)){break}
    }
    pr1s = c(pr1s,pr[1])
    pr2s = c(pr2s,pr[2])
    xsqs = c(xsqs,xsq)
}



```

### Question 1

Simplify the radical expressions.

\begin{align*}
\sqrt{`r xsqs[1]`} && \sqrt{`r xsqs[2]`}  && \sqrt{`r xsqs[3]`} 
\end{align*}

```{r,echo=F,results='asis'}
if(params$showsol){
    cat("\\color{red}\n")
    cat("\\begin{align*}\n")
    baby = paste0("\\sqrt{",pr1s,"\\cdot",pr1s,"\\cdot",pr2s,"}",collapse=" && ")
    cat(baby)
    cat("\\\\ \n")
    baby = paste0(pr1s,"\\sqrt{",pr2s,"}",collapse=" && ")
    cat(baby)
    cat("\n")
    cat("\\end{align*}\n")
    cat("\\color{black}")
}

```

\vfill

### Question 2

```{r q2,echo=F}
pn = function(c,d){
    cc = c[c!=0]
    dd = d[c!=0]
    p = paste0("{",cc,"}x^{",dd,"}",collapse="+")
    p = gsub("x^{0}","",p,fixed=T)
    p = gsub("x^{1}","x",p,fixed=T)
    p = gsub("+{-","-{",p,fixed=T)
    p = gsub("+{1}x","+x",p,fixed=T)
    p = gsub("-{1}x","-x",p,fixed=T)
    p = gsub("{-1}x","-x",p,fixed=T)
    p = gsub("{1}x","x",p,fixed=T)
    return(p)
}


funcs = list(function(x,A,M){M*(x+A)},
             function(x,A,M){M*x+A},
             function(x,A,M){M*(x-A)},
             function(x,A,M){M*x-A},
             function(x,A,M){(x+A)/M},
             function(x,A,M){x/M+A},
             function(x,A,M){(x-A)/M},
             function(x,A,M){x/M-A}
             )

exp_frames = c("M\\left(x+A\\right)",
               "M x+A",
               "M\\left(x-A\\right)",
               "M x-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")

qt = sample(1:8,1)

while(T){
    twonums = sample(4:10,2)
    nk = twonums[1]^2
    snk = round(sqrt(nk))
    h = twonums[2]*sample(c(-1,1),1)
    x1 = h+snk
    x2 = h-snk
    AM = sample(2:10,2)
    A = AM[1]
    M = AM[2]
    RS = funcs[[qt]](nk,A,M)
    if(RS %% 1 == 0 && abs(RS)>0 && abs(RS)<101){break}
}


eq = exp_frames[qt]
eq = gsub("M",M,eq,fixed=T)
eq = gsub("A",A,eq,fixed=T)
eq = gsub("x",paste0("(",pn(c(1,-h),1:0),")^2",collapse=""),eq,fixed=T)

wd2 = c("  1. add A\n  2. multiply by M",
        "  1. multiply by M\n  2. add A",
        "  1. subtract A\n  2. multiply by M",
        "  1. multiply by M\n  2. subtract A",
        "  1. add A\n  2. divide by M",
        "  1. divide by M\n  2. add A",
        "  1. subtract A\n  2. divide by M",
        "  1. divide by M\n  2. subtract A")

wd = wd2[9-qt]
wd = gsub("A",A,wd,fixed=T)
wd = gsub("M",M,wd,fixed=T)

```

Find all solutions to the equation below:

$$`r eq`~=~`r RS`$$


\vfill

```{r,echo=F,results='asis'}
if(params$showsol){
    cat("\\color{red}\n")
    cat(wd)
    cat("\n")
    cat("$$(",pn(c(1,-h),1:0),")^2=",nk,"$$\n")
    cat("$$",pn(c(1,-h),1:0),"=\\pm",snk,"$$\n")
    cat("$$x=",h,"\\pm",snk,"$$\n")
    cat(paste0("So the two solutions are $x=",x1,"$ and $x=",x2,"$."))
    cat("\\color{black}\n")
}
```

\color{black}

\vfill

\newpage

### Question 3

```{r q3,echo=F}
options(scipen=999)

pn = function(coeffs,pows){
    pows = pows[coeffs!=0]
    coeffs = coeffs[coeffs!=0]
    ex1 = paste0("{",coeffs,"}x^{",pows,"}",collapse="+")
    ex1 = gsub("+{-","-{",ex1,fixed=T)
    ex1 = gsub("{1}x^{0}","1",ex1,fixed=T)
    ex1 = gsub("{-1}x^{0}","-1",ex1,fixed=T)
    ex1 = gsub("{1}x","x",ex1,fixed=T)
    ex1 = gsub("{-1}x","-x",ex1,fixed=T)
    ex1 = gsub("x^{0}","",ex1,fixed=T)
    ex1 = gsub("x^{1}","x",ex1,fixed=T)
    ex1 = gsub("+-","-",ex1,fixed=T)
    ex1 = gsub("{","",ex1,fixed=T)
    ex1 = gsub("}","",ex1,fixed=T)
    if(ex1 == ""){
        ex1 = "0"
    }
    return(ex1)
}

while(T){
    xy = sample(3:9,2)
    x = xy[1]*sample(c(-1,1),1)
    y = xy[2]*sample(c(-1,1),1)
    area = x^2+2*x*y
    x1 = sqrt(area+y^2)-y
    x2 = -sqrt(area+y^2)-y
    if(abs(x+y)>2 && abs(area)>0 && abs(area)<101){break}
}
```

By [completing the square](https://en.wikipedia.org/wiki/Completing_the_square), find both solutions to the given equation:

$$`r pn(c(1,2*y),2:1)`~=~`r area`$$


\vfill

\color{red}

```{r,echo=F,results='asis'}
cat(paste0("$$",pn(c(1,2*y,y^2),2:0),"=",pn(c(area,y^2),c(0,0)),"$$"))
cat(paste0("$$",pn(c(1,2*y,y^2),2:0),"=",area+y^2,"$$"))
cat(paste0("$$(",pn(c(1,y),1:0),")^2=",area+y^2,"$$"))
cat(paste0("$$",pn(c(1,y),1:0),"=\\pm",sqrt(area+y^2),"$$"))
cat(paste0("$$x=",-y,"\\pm",sqrt(area+y^2),"$$"))
cat(paste0("$$x=",x1,"~~~~~~~\\text{or}~~~~~~~x=",x2,"$$"))
```

\color{black}

\vfill

### Question 4


```{r,echo=FALSE}
options(scipen=999)
pfix = function(c,d){
    cc = c[c!=0]
    dd = d[c!=0]
    p = paste0("{",cc,"}x^{",dd,"}",collapse="+")
    p = gsub("x^{0}","",p,fixed=T)
    p = gsub("x^{1}","x",p,fixed=T)
    p = gsub("+{-","-{",p,fixed=T)
    p = gsub("+{1}x","+x",p,fixed=T)
    p = gsub("-{1}x","-x",p,fixed=T)
    p = gsub("{-1}x","-x",p,fixed=T)
    p = gsub("{1}x","x",p,fixed=T)
    return(p)
}
mfix = function(c,d){
    cc = c[c!=0]
    dd = d[c!=0]
    p = paste0("+{",cc,"}x^{",dd,"}",collapse="")
    p = gsub("x^{0}","",p,fixed=T)
    p = gsub("x^{1}","x",p,fixed=T)
    p = gsub("+{-","-{",p,fixed=T)
    p = gsub("+{1}x","+x",p,fixed=T)
    p = gsub("-{1}x","-x",p,fixed=T)
    p = gsub("{-1}x","-x",p,fixed=T)
    p = gsub("{1}x","x",p,fixed=T)
    return(p)
}
### a(x-h)^2+k
while(T){
    a = sample(2:5,1)
    hk = sample(3:9,2)*sample(c(-1,1),2,T)
    h = hk[1]
    k = hk[2]
    ## ax^2-2ahx+(ah^2+k)

    ## x^2-2hx+(h^2+k)
    B = -2*a*h
    C = a*h^2+k

    if(length(unique(abs(c(a,h,k))))==3 && abs(C)<=100){break}
}



```


Quadratic polynomial $p$ is defined below in standard form.
$$p(x)~=~`r pfix(c(a,B,C),2:0)`$$

Express the polynomial in **vertex form** and identify the location of the vertex.

\vfill

```{r,echo=F,results='asis'}
cat("\\color{red}\n")
cat("From the first two terms, factor out ",a,".\n")
cat("$$p(x)=",a,"(",pfix(c(1,B/a),2:1),")",mfix(C,0),"$$\n")
cat("We want a perfect square.\n")
cat("$$p(x)=",a,"(",pfix(c(1,B/a,(B/a/2)^2,-(B/a/2)^2),c(2,1,0,0)),")",mfix(C,0),"$$\n")
cat("Factor the perfect-square trinomial.\n")
cat("$$p(x)=",a,"((x",mfix(B/a/2,0),")^2",mfix(-(B/a/2)^2,0),")",mfix(C,0),"$$\n")
cat(paste0("Distribute the ",a,".\n"))
cat("$$p(x)=",a,"(x",mfix(B/a/2,0),")^2",mfix(-(B/2)^2/a,0),mfix(C,0),"$$\n")
cat("Combine the constants to get **vertex form**:")
cat("$$p(x)=",a,"(x",mfix(B/a/2,0),")^2",mfix(-(B/2)^2/a+C,0),"$$\n")
cat("The vertex is at (",h,",",k,").\n")
cat("\\color{black}\n")
```

\vfill

