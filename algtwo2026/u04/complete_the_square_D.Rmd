```{r,echo=FALSE}
options(scipen=999)

pn = function(coeffs,pows){
    pows = pows[coeffs!=0]
    coeffs = coeffs[coeffs!=0]
    ex1 = paste0("{",coeffs,"}x^{",pows,"}",collapse="+")
    ex1 = gsub("+{-","-{",ex1,fixed=T)
    ex1 = gsub("{1}x^{0}","1",ex1,fixed=T)
    ex1 = gsub("{-1}x^{0}","-1",ex1,fixed=T)
    ex1 = gsub("{1}x","x",ex1,fixed=T)
    ex1 = gsub("{-1}x","-x",ex1,fixed=T)
    ex1 = gsub("x^{0}","",ex1,fixed=T)
    ex1 = gsub("x^{1}","x",ex1,fixed=T)
    ex1 = gsub("+-","-",ex1,fixed=T)
    ex1 = gsub("{","",ex1,fixed=T)
    ex1 = gsub("}","",ex1,fixed=T)
    if(ex1 == ""){
        ex1 = "0"
    }
    return(ex1)
}

xy = sample(3:9,2)
x = xy[1]
y = xy[2]

area = x^2+2*x*y




```

Question
========

By [completing the square](https://en.wikipedia.org/wiki/Completing_the_square), find the positive solution to the given equation:

$$`r pn(c(1,2*y),2:1)`~=~`r area`$$

Solution
========

The given equation:

$$x^2+`r 2*y`x~=~`r area`$$


We can visualize this as the areas of a small square and two rectangles. Notice we divide the linear coefficient by 2 to find one dimension of the rectangles.

```{r,echo=F,fig.dim=c(4,4)}
library(latex2exp)
par(mar=c(0,0,0,0),oma=c(0,0,0,0))
plot(0,0,"n",xlim=c(-0.1,1.1),ylim=c(-0.1,1.1),axes=F,ann=F)
N = x+y
b = seq(0,1,length.out=N+1)


# polygon(c(0,x/N,x/N,1,1,0),c(0,0,y/N,y/N,1,1),col="grey")

polygon(c(0,x/N,x/N,0),c(y/N,y/N,1,1),col=rgb(1,1,0,0.7))
polygon(c(1,x/N,x/N,1),c(y/N,y/N,1,1),col=rgb(0,1,0,0.7))
polygon(c(0,x/N,x/N,0),c(0,0,y/N,y/N),col=rgb(0,1,0,0.7))

text(x/N/2,1-x/N/2,TeX(paste0("$x^2$ sqft")),col=rgb(0.5,0.5,0))
text(1-y/N/2,1-x/N/2,paste0(y,"x sqft"),col=rgb(0,0.5,0))
text(x/N/2,y/N/2,paste0(y,"x sqft"),col=rgb(0,0.5,0))

# polygon(c(1,x/N,x/N,1),c(0,0,y/N,y/N),col="pink")

col1 = "black" #rgb(0.5,0.5,0)
col2 = "black" #rgb(0.5,0.2,0.2)

text(x/N/2,-0.05,"x",cex=1.3,col=col1)
text(1.05,(1-x/N/2),"x",cex=1.3,col=col1)

text(1-y/N/2,1-x/N-0.05,y,cex=1.3,col=col2)
text(x/N+0.05,(y/N/2),y,cex=1.3,col=col2)

```
\

$$x^2+`r y`x+`r y`x~=~`r area`$$


There is a fun way to solve this. We will "complete the square". In this situation, the means we can imagine adding some extra area to the picture to make a large square. In this case, we need to add a square with edge lengths of `r y`, adding `r y^2` square feet to the area.


```{r,echo=F,fig.dim=c(4,4)}
par(mar=c(0,0,0,0),oma=c(0,0,0,0))
plot(0,0,"n",xlim=c(-0.1,1.1),ylim=c(-0.1,1.1),axes=F,ann=F)
N = x+y
b = seq(0,1,length.out=N+1)


polygon(c(0,x/N,x/N,1,1,0),c(0,0,y/N,y/N,1,1),col=rgb(0,0,1,0.5))
text(2*x/N/3,1-2*x/N/3,paste0(area," sqft"),col=rgb(0,0,0.8))

polygon(c(x/N,1,1,x/N),c(0,0,1-x/N,1-x/N),col=rgb(1,0,0,0.5))

text(1-y/N/2,y/N/2,paste0(y^2," sqft"),col=rgb(0.8,0,0))

# polygon(c(0,x/N,x/N,0),c(y/N,y/N,1,1),col="grey")
# polygon(c(1,x/N,x/N,1),c(y/N,y/N,1,1),col="grey")
# polygon(c(0,x/N,x/N,0),c(0,0,y/N,y/N),col="grey")
# polygon(c(1,x/N,x/N,1),c(0,0,y/N,y/N),col="pink")

col1 = "black" #rgb(0.5,0.5,0)
col2 = "black" #rgb(0.5,0.2,0.2)

text(x/N/2,-0.05,"x",cex=1.3,col=col1)
text(1.05,(1-x/N/2),"x",cex=1.3,col=col1)

text(1-y/N/2,-0.05,y,cex=1.3,col=col2)
text(1+0.05,(y/N/2),y,cex=1.3,col=col2)

```
\


$$x^2+`r 2*y`x+`r y^2`~=~`r area`+`r y^2`$$


$$x^2+`r 2*y`x+`r y^2`~=~`r area+y^2`$$

But, notice, if you look at the last picture, we have another way to represent the total area. The newly formed large square has side lengths of $x+`r y`$. So we can represent the total area of the large square as $(x+`r y`)^2$.

$$(x+`r y`)^2~=~`r area+y^2`$$

$$x+`r y`~=~\pm `r sqrt(area+y^2)`$$

And, lastly, subtract `r y` from both sides of the equation. We only care about the positive solution.

$$x~=~`r sqrt(area+y^2)`-`r y`$$


$$x~=~`r x`$$


Meta-information
============
extype: num
exsolution: `r x`
exname: complete_the_square_D