```{r,echo=FALSE}
options(scipen=999)
pfix = function(c,d){
    cc = c[c!=0]
    dd = d[c!=0]
    p = paste0("{",cc,"}x^{",dd,"}",collapse="+")
    p = gsub("x^{0}","",p,fixed=T)
    p = gsub("x^{1}","x",p,fixed=T)
    p = gsub("+{-","-{",p,fixed=T)
    p = gsub("+{1}x","+x",p,fixed=T)
    p = gsub("-{1}x","-x",p,fixed=T)
    p = gsub("{-1}x","-x",p,fixed=T)
    p = gsub("{1}x","x",p,fixed=T)
    return(p)
}
mfix = function(c,d){
    cc = c[c!=0]
    dd = d[c!=0]
    p = paste0("+{",cc,"}x^{",dd,"}",collapse="")
    p = gsub("x^{0}","",p,fixed=T)
    p = gsub("x^{1}","x",p,fixed=T)
    p = gsub("+{-","-{",p,fixed=T)
    p = gsub("+{1}x","+x",p,fixed=T)
    p = gsub("-{1}x","-x",p,fixed=T)
    p = gsub("{-1}x","-x",p,fixed=T)
    p = gsub("{1}x","x",p,fixed=T)
    return(p)
}
### a(x-h)^2+k
a = sample(2:5,1)
hk = sample(2:9,2)*sample(c(-1,1),2,T)
h = hk[1]
k = hk[2]

## ax^2-2ahx+(ah^2+k)

## x^2-2hx+(h^2+k)
B = -2*a*h
C = a*h^2+k

ch = -10:10
mch = paste0("",ch)
mch = gsub("+-","-",mch,fixed=T)
al = paste0("* ",mch,collapse="\n")

sol1 = paste0(1*(h==ch),collapse="")
sol2 = paste0(1*(k==ch),collapse="")


```

Question
========

Quadratic polynomial $p$ is defined below in standard form.
$$p(x)~=~`r pfix(c(a,B,C),2:0)`$$

By [completing the square](https://en.wikipedia.org/wiki/Completing_the_square), you can rewrite the quadratic polynomial in vertex form:

$$p(x) = a(x-h)^2+k$$

where $(h,k)$ is the vertex of the parabola. Determine the coordinates of the vertex of quadratic polynomial $p$.

* $h=$ ##ANSWER1##
* $k=$ ##ANSWER2##




Answerlist
-------

`r al`
`r al`


Solution
========

We are given $p(x)~=~`r pfix(c(a,B,C),2:0)`$. From the first two terms, factor out `r a`.

$$p(x)~=~`r a`\left(`r pfix(c(1,B/a),2:1)`\right)`r mfix(C,0)`$$

Determine the constant needed to complete the square (of the expression inside parentheses) by dividing the linear coefficient by 2 and then squaring the result. $\left(\frac{`r B/a`}{2}\right)^2 ~=~ \left(`r B/a/2`\right)^2 ~=~ `r round(B/a/2)^2`$. Add and subtract this amount inside the parentheses.

$$p(x)~=~`r a`\left(`r pfix(c(1,B/a,round(B/a/2)^2,-round(B/a/2)^2),c(2,1,0,0))`\right)`r mfix(C,0)`$$

Notice the first three terms inside the parentheses are a perfect square. Rewrite them in factored form.

$$p(x)~=~`r a`\left(\left(`r pfix(c(1,-h),c(1,0))`\right)^2-`r round(B/a/2)^2`\right)`r mfix(C,0)`$$

Distribute the `r a`.


$$p(x)~=~`r a`\left(`r pfix(c(1,-h),c(1,0))`\right)^2-`r a*round(B/a/2)^2``r mfix(C,0)`$$


Combine the constants.

$$p(x)~=~`r a`\left(`r pfix(c(1,-h),c(1,0))`\right)^2 `r mfix(k,0)`$$

And so:

$$h = `r h`$$
$$k = `r k`$$

```{r,echo=F,fig.dim=c(5,5)}
par(pty="s")
xs = seq(-15,15,0.01)
ys = a*(xs-h)^2+k
plot(xs,ys,"l",xlim=c(-15,15),ylim=c(-15,15),xlab="x",ylab="y",main="y=p(x)")
points(h,k,pch=20)
abline(h=0)
abline(v=0)
```
\



Meta-information
============
extype: cloze
exclozetype: schoice|schoice
exsolution: `r sol1`|`r sol2`
exname: complete_the_square