```{r,echo=FALSE}
options(scipen=999)
maxopt = 10
gcd2 <- function(a, b) {
    if (b == 0) a else Recall(b, a %% b)
}
gcd <- function(...) Reduce(gcd2, c(...))

pfix = function(c,d){
    p = paste0("{",c,"}x^{",d,"}",collapse="+")
    p = gsub("x^{0}","",p,fixed=T)
    p = gsub("x^{1}","x",p,fixed=T)
    p = gsub("+{-","-{",p,fixed=T)
    p = gsub("+{1}x","+x",p,fixed=T)
    p = gsub("-{1}x","-x",p,fixed=T)
    p = gsub("{-1}x","-x",p,fixed=T)
    p = gsub("{1}x","x",p,fixed=T)
    return(p)
}
while(T){
    pq = sample(1:maxopt,2)*sample(c(-1,1),2,T)
    p = pq[1]
    q = pq[2]
    A = sample(c(2,3,5,7),1)
    B = A*p+q
    C = p*q
    PE = pfix(c(A,B,C),2:0)
    if(abs(B)>0 && abs(gcd(A,q))==1){break}
}

ch = c((-maxopt):-1,1:maxopt)
fal = character()
for(i in ch){
    # ns = pfix(c(1,i),1:0)
    ns = paste0("x=",i)
    fal = c(fal,ns)
    # ns = pfix(c(A,i),1:0)
    ns = paste0("x=\\frac{",i,"}{",A,"}")
    fal = c(fal,ns)
}

# a1 = pfix(c(1,p),1:0)
# a2 = pfix(c(A,q),1:0)

a1 = paste0("x=",-p)
a2 = paste0("x=\\frac{",-q,"}{",A,"}")

sol1 = fal==a1
sol2 = fal==a2
sol = sol1+sol2
sol = paste0(1*(sol),collapse="")

soltxt1 = pfix(c(A,A*p,q,p*q),c(2,1,1,0))
solp = pfix(c(1,p),c(1,0))
solq = pfix(c(A,q),c(1,0))

fal = paste0("* $",fal,"$",collapse="\n")

```


Question
========

If $(x+n)$ is a factor of the polynomial below, and $n$ is an integer, then what is the value of $n$?

$$`r PE`$$



Solution
========

$$`r PE`$$

You'll want to factor the expression.

Set up a box with what you know... Notice that the leading (quadratic) coefficient, $a=`r A`$, is prime. This allows us to be more confident in how this expression factors.

```{r,echo=F,fig.dim=c(4,2)}
library(latex2exp)
par(mar=c(0,0,0,0),oma=c(0,0,0,0))
plot(0,0,"n",xlim=c(0,8),ylim=c(2,8),axes=F,ann=F)
lines(c(0,6),c(2,2),lwd=3)
lines(c(0,6),c(4,4),lwd=1)
lines(c(0,6),c(6,6),lwd=3)

lines(c(2,2),c(2,8),lwd=3)
lines(c(4,4),c(2,8),lwd=1)
lines(c(6,6),c(2,8),lwd=3)

text(3,7,TeX(paste0("$x$")))
text(3,5,TeX(paste0("$",A,"x^2$")))
text(1,5,TeX(paste0("$",pfix(A,1),"$")))
text(5,3,TeX(paste0("$",p*q,"$")))
# 
# text(1,1,"TOTAL")
# text(7,7,"TOTAL")

text(1,7,"*")

dasol = ""

text(5,5,"?",col="red")
text(3,3,"?",col="red")
text(5,7,"?",col="red")
text(1,3,"?",col="red")

# text(5,5,TeX(paste0("$",A*D,"x$")),col="red")
# text(3,3,TeX(paste0("$",B*C,"x$")),col="red")
# text(5,7,TeX(paste0("$",pn(D,0),"$")),col="red")
# text(1,3,TeX(paste0("$",pn(B,0),"$")),col="red")
# dasol = paste0("$(",exp1,")(",exp2,")$")
```



You can get this by guessing and checking. To make a smart guess, find a pair of integers that multiply to get $`r p*q`$, and use those... 

Eventually, because $(`r q`)\cdot(`r p`)=`r p*q`$,  you will guess the following factored form:

$$(`r solq`)\cdot(`r solp`)$$

And you will check it with a box to see that it works.

```{r,echo=F,fig.dim=c(4,2)}
library(latex2exp)
par(mar=c(0,0,0,0),oma=c(0,0,0,0))
plot(0,0,"n",xlim=c(0,8),ylim=c(2,8),axes=F,ann=F)
lines(c(0,6),c(2,2),lwd=3)
lines(c(0,6),c(4,4),lwd=1)
lines(c(0,6),c(6,6),lwd=3)

lines(c(2,2),c(2,8),lwd=3)
lines(c(4,4),c(2,8),lwd=1)
lines(c(6,6),c(2,8),lwd=3)

text(3,7,TeX(paste0("$x$")))
text(3,5,TeX(paste0("$",A,"x^2$")))
text(1,5,TeX(paste0("$",pfix(A,1),"$")))
text(5,3,TeX(paste0("$",p*q,"$")))
# 
# text(1,1,"TOTAL")
# text(7,7,"TOTAL")

text(1,7,"*")

dasol = ""

text(5,5,paste0(A*p,"x"),col="red")
text(3,3,paste0(q,"x"),col="red")
text(5,7,p,col="red")
text(1,3,q,col="red")

# text(5,5,TeX(paste0("$",A*D,"x$")),col="red")
# text(3,3,TeX(paste0("$",B*C,"x$")),col="red")
# text(5,7,TeX(paste0("$",pn(D,0),"$")),col="red")
# text(1,3,TeX(paste0("$",pn(B,0),"$")),col="red")
# dasol = paste0("$(",exp1,")(",exp2,")$")
```

$$`r pfix(c(A,A*p,q,p*q),c(2,1,1,0))`$$

Combine like terms.

$$`r pfix(c(A,A*p+q,p*q),c(2,1,0))`$$

So it worked! (Because it matches the given standard-form expression.) Thus, in factored form, the expression is:

$$(`r solq`)\cdot(`r solp`)$$

The problem asked for the constant of the second factor, because it asked for the constant of the factor with a linear coefficient of 1.

$$n=`r p`$$


Meta-information
============
extype: num
exsolution: `r p`
exname: factor_quadratic