```{r,echo=FALSE}
options(scipen=999)
pfix = function(c,d){
    cc = c[c!=0]
    dd = d[c!=0]
    p = paste0("{",cc,"}x^{",dd,"}",collapse="+")
    p = gsub("x^{0}","",p,fixed=T)
    p = gsub("x^{1}","x",p,fixed=T)
    p = gsub("+{-","-{",p,fixed=T)
    p = gsub("+{1}x","+x",p,fixed=T)
    p = gsub("-{1}x","-x",p,fixed=T)
    p = gsub("{-1}x","-x",p,fixed=T)
    p = gsub("{1}x","x",p,fixed=T)
    return(p)
}

while(T){
    rrr = sample(c(-6:-1,1:6),1)
    rs = rep(rrr,3)
    dr = rrr[2]
    A = 1
    B = sum(-rs)
    C = sum(c(prod(-rs[c(1,2)]),prod(-rs[c(1,3)]),prod(-rs[c(2,3)])))
    D = prod(-rs)
    if(length(unique(rs))==1){break}
}

all1 = numeric()
all2 = numeric()
all3 = numeric()
for(i in c((-6):(-1),1:6)){
    for(j in c((-6):(-1),1:6)){
        for(k in c((-6):(-1),1:6)){
            aaa = sum(c(i,j,k))
            bbb = sum(c(i*j,i*k,j*k))
            ccc = prod(c(i,j,k))
            all1 = sort(unique(c(all1,aaa)))
            all2 = sort(unique(c(all2,bbb)))
            all3 = sort(unique(c(all3,ccc)))
        }
    }
}

al1 = paste0("* ",all1,collapse="\n")
al2 = paste0("* ",all2,collapse="\n")
al3 = paste0("* ",all3,collapse="\n")

sol1 = paste0(1*(B==all1),collapse="")
sol2 = paste0(1*(C==all2),collapse="")
sol3 = paste0(1*(D==all3),collapse="")

```


Question
========

A cubic polynomial, $f(x)$, is generated by randomly selecting the three parameters, $B$, $C$, and $D$, in the equation below.

$$f(x)~=~x^3+Bx^2+Cx+D$$

You know the graph $y=f(x)$ has one distinct real root at $x=`r rs[1]`$. You could predict (due to the [inflection point](https://en.wikipedia.org/wiki/Inflection_point)), that the root at $x=`r rs[1]`$ has multiplicity 3. Indeed, in this case, the multiplicity of the root is 3.

```{r,echo=F,fig.dim=c(8,6)}
quadcs = c(3,2*B,C)
aa = quadcs[1]
bb = quadcs[2]
cc = quadcs[3]

xmi = rs[1]-2 #(-bb+sqrt(bb^2-4*aa*cc))/(2*aa)
xma = rs[1]+2 #(-bb-sqrt(bb^2-4*aa*cc))/(2*aa)
ymi = xmi^3+B*xmi^2+C*xmi+D
yma = xma^3+B*xma^2+C*xma+D
mama = max(abs(c(ymi,yma)))

x = seq(-10,10,0.01)
plot(x,x^3+B*x^2+C*x+D,"l",col="blue",lwd=2,xlim=c(-12,12),
     ylim=c(-mama*1.2,mama*1.2),ylab="f(x)",xlab="x",axes=F,ann=F)
for(i in -10:10){
    lines(c(i,i),c(mama/10,-mama/10))
}
text(-10,-mama/5,"-10")
text(10,-mama/5,"10")
arrows(-11,0,11,0,0.1,15,3)
arrows(0,mama,0,-mama,0.1,15,3)
points(rs,c(0,0,0),pch=20,col="red",cex=2)
text(12,0,"x",cex=1.5)
text(0,mama*1.2,"y",cex=1.5)



```
\

Find $B$, $C$, and $D$.

* $B=$ ##ANSWER1##
* $C=$ ##ANSWER2##
* $D=$ ##ANSWER3##

Answerlist
--------

`r al1`
`r al2`
`r al3`


Solution
========

First, write the cubic polynomial in factored form (based on the three roots).

$$f(x)~=~(`r pfix(c(1,-rs[1]),1:0)`)(`r pfix(c(1,-rs[2]),1:0)`)(`r pfix(c(1,-rs[3]),1:0)`)$$

Partially expand the expression by writing $(`r pfix(c(1,-rs[1]),1:0)`)(`r pfix(c(1,-rs[2]),1:0)`)$ in standard form. To do this, we can use the FOIL method or a box.

```{css,echo=F}
.boxy td {
    border: 1px solid black;
    color: black;
    background-color: white;
  }
.boxy th {
    background-color: rgb(200, 200, 200);
    color: black;
    border: 1px solid black;
  }
.boxy td:first-child {
    background-color: rgb(200, 200, 200);
    color: black;
    border: 1px solid black;
  }
```

<div class="boxy">

| *             |  $x$       |     $`r -rs[1]`$     |
|:-------------:|:----------:|:--------------------:|
| $x$           | $x^2$      | $`r -rs[1]`x$        |
| $`r -rs[2]`$  | $`r -rs[2]`x$ | $`r rs[1]*rs[2]`$ |

</div>

$$f(x)~=~ \left(`r pfix(c(1,-rs[2],-rs[1],rs[1]*rs[2]),c(2,1,1,0))`\right)(`r pfix(c(1,-rs[3]),1:0)`)$$

Combine like terms.

$$f(x)~=~ \left(`r pfix(c(1,-rs[2]-rs[1],rs[1]*rs[2]),c(2,1,0))`\right)(`r pfix(c(1,-rs[3]),1:0)`)$$

Now, multiply the quadratic by the linear.

<div class="boxy">

| *             |  $x^2$ | $`r -rs[2]-rs[1]`x$  | $`r rs[1]*rs[2]`$ |
|:-------------:|:----------:|:--------------------:|:---:|
| $x$           | $x^3$      | $`r -rs[2]-rs[1]`x^2$ | $`r rs[1]*rs[2]`x$ |
| $`r -rs[3]`$  | $`r -rs[3]`x^2$ | $`r rs[3]*(rs[2]+rs[1])`x$ | $`r -prod(rs)`$ |

</div>

$$f(x)~=~`r pfix(c(1,-rs[3],-rs[2]-rs[1],rs[3]*(rs[2]+rs[1]),rs[1]*rs[2],-prod(rs)),c(3,2,2,1,1,0))`$$

Combine like terms.


$$f(x)~=~`r pfix(c(1,-rs[3]-rs[2]-rs[1],rs[3]*(rs[2]+rs[1])+rs[1]*rs[2],-prod(rs)),c(3,2,1,0))`$$

Thus,

* $B=`r B`$
* $C=`r C`$
* $D=`r D`$


Meta-information
============
extype: cloze
exclozetype: schoice|schoice|schoice
exsolution: `r sol1`|`r sol2`|`r sol3`
exname: cubic_from_zeros