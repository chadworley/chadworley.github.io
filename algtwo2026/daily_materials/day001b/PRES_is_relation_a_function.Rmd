---
title: "Is a relation a function? And is the function one-to-one?"
output: slidy_presentation
---

# Relation

* A [relation](https://en.wikipedia.org/wiki/Binary_relation) associates some elements of one set (called the domain) with some elements of another set (called the range). There are many ways to express relations:
* Segments connecting elements of sets:
    
```{r,echo=FALSE,fig.dim=c(5,5)}
n = 5
A = c(3,5,6,8,9)
B = c(1,9,7,5,7)
mystr = paste("(",A,", ",B,")",collapse="~~")

par(pty="s")
plot(0,0,type="n",axes = F,asp=1,xlim=c(0,10),ylim=c(0,10),ann=FALSE)
for(i in 0:9){
  text(0,i,i)
  text(10,i,i)
}
text(0,10,"x",cex=2)
text(10,10,"y",cex=2)
for(i in 1:n){
  lines(c(0.5,9.5),c(A[i],B[i]))
}
```
\

* A list of ordered pairs

$$`r mystr`$$

* A plot of points
    
```{r,echo=FALSE,fig.dim=c(5,5)}
par(pty="s")
plot(A,B,xlim=c(0,10),ylim=c(0,10),xlab="x",ylab="y",asp=1,pch=20,cex=2)
for(i in 0:10){
  abline(h=i,lty=3)
  abline(v=i,lty=3)
}
```
\

* In this case, the [domain](https://en.wikipedia.org/wiki/Domain_of_a_function) is \{`r paste0(sort(unique(A)),collapse=", ")`\}
* In this case, the [range](https://en.wikipedia.org/wiki/Range_of_a_function) is \{`r paste0(sort(unique(B)),collapse=", ")`\}

# Is relation a function?

* We say $y$ is a function of $x$ if the relation passes the [vertical line test](https://en.wikipedia.org/wiki/Vertical_line_test).
* Let's see an example that FAILS the vertical line test, thus meaning that $y$ is not a function of $x$.

```{r,echo=FALSE,fig.dim=c(5,5)}

A = c(3,5,5,8,9)
B = c(1,3,7,4,2)
mystr = paste("(",A,", ",B,")",collapse="~~")

par(pty="s")
plot(A,B,xlim=c(0,10),ylim=c(0,10),xlab="x",ylab="y",asp=1,pch=20,cex=2,main="This relation FAILS the vertical line test.\nSo y is not a function of x.")
for(i in 0:10){
  abline(h=i,lty=3)
  abline(v=i,lty=3)
}
abline(v=5,col="red")
```
\

* Notice as ordered pairs, we see the same $x$ value (5) paired with two different $y$ values (3 and 7), and that indicated that $y$ is not a function of $x$.
$$`r mystr`$$
* And we see $y$ is not a function of $x$ in set connections as a "v" shape in the left column.

```{r,echo=FALSE,fig.dim=c(5,5)}
mystr = paste("(",A,", ",B,")",collapse="~~")

par(pty="s")
plot(0,0,type="n",axes = F,asp=1,xlim=c(0,10),ylim=c(0,10),ann=FALSE)
for(i in 0:9){
  text(0,i,i)
  text(10,i,i)
}
text(0,10,"x",cex=2)
text(10,10,"y",cex=2)
for(i in 1:n){
  lines(c(0.5,9.5),c(A[i],B[i]))
}
```
\

# Is reverse relation a function?

* We say $x$ is a function of $y$ if the relation passes the [horizontal line test](https://en.wikipedia.org/wiki/Horizontal_line_test).
* Let's see an example that FAILS the horizontal line test, thus meaning that $x$ is not a function of $y$.

```{r,echo=FALSE,fig.dim=c(5,5)}

A = c(3,5,6,8,9)
B = c(1,3,7,7,2)
mystr = paste("(",A,", ",B,")",collapse="~~")

par(pty="s")
plot(A,B,xlim=c(0,10),ylim=c(0,10),xlab="x",ylab="y",asp=1,pch=20,cex=2,main="This relation FAILS the horizontal line test.\nSo x is not a function of y.")
for(i in 0:10){
  abline(h=i,lty=3)
  abline(v=i,lty=3)
}
abline(h=7,col="red")
```
\

* Notice as ordered pairs, we see the same $y$ value (7) paired with two different $x$ values (6 and 8), and that indicated that $x$ is not a function of $y$.
$$`r mystr`$$
* And we see $x$ is not a function of $y$ in set connections as a "v" shape in the right column.

```{r,echo=FALSE,fig.dim=c(5,5)}
mystr = paste("(",A,", ",B,")",collapse="~~")

par(pty="s")
plot(0,0,type="n",axes = F,asp=1,xlim=c(0,10),ylim=c(0,10),ann=FALSE)
for(i in 0:9){
  text(0,i,i)
  text(10,i,i)
}
text(0,10,"x",cex=2)
text(10,10,"y",cex=2)
for(i in 1:n){
  lines(c(0.5,9.5),c(A[i],B[i]))
}
```
\

# Is the relation a one-to-one function?

* If:
    * $y$ is a function of $x$
    * AND
    * $x$ is a function of $y$
* Then the function is [one-to-one](https://en.wikipedia.org/wiki/Injective_function).

Here is an example of a one-to-one function:

```{r,echo=FALSE,fig.dim=c(5,5)}

A = c(3,5,6,8,9)
B = c(1,3,7,5,2)
mystr = paste("(",A,", ",B,")",collapse="~~")

par(pty="s")
plot(A,B,xlim=c(0,10),ylim=c(0,10),xlab="x",ylab="y",asp=1,pch=20,cex=2,main="This relation passes both tests.\nSo we have a one-to-one function.")
for(i in 0:10){
  abline(h=i,lty=3)
  abline(v=i,lty=3)
}
```
\

$$`r mystr`$$

```{r,echo=FALSE,fig.dim=c(5,5)}
par(pty="s")
plot(0,0,type="n",axes = F,asp=1,xlim=c(0,10),ylim=c(0,10),ann=FALSE)
for(i in 0:9){
  text(0,i,i)
  text(10,i,i)
}
text(0,10,"x",cex=2)
text(10,10,"y",cex=2)
for(i in 1:n){
  lines(c(0.5,9.5),c(A[i],B[i]))
}
```
\

# Some "real-world" examples

* Students and desks
    * In this classroom, there is a one-to-one function between students and desks.
* Students and home towns/cities
    * Town is function of student.
    * Student is NOT a function of town.
        * If I say a home town, you can't tell me which student I'm thinking of.
    * So the relation between students and towns is not one-to-one.
* How about the relation between first and last names in this room?
    * Is first name a function of last name?
    * Is last name a function of first name?
    * Is the relation between first and last name one-to-one?

# A relation can be neither a function mapping $x$ to $y$ nor a function mapping $y$ to $x$.

* If:
    * $y$ is NOT a function of $x$
    * AND
    * $x$ is NOT a function of $y$
* Then the relation is not a function in either direction.

Here is an example:

```{r,echo=FALSE,fig.dim=c(5,5)}

A = c(3,5,6,8,8)
B = c(1,3,3,5,2)
mystr = paste("(",A,", ",B,")",collapse="~~")

par(pty="s")
plot(A,B,xlim=c(0,10),ylim=c(0,10),xlab="x",ylab="y",asp=1,pch=20,cex=2,main="This relation passes neither test.\n")
for(i in 0:10){
  abline(h=i,lty=3)
  abline(v=i,lty=3)
}
abline(h=3,col="red")
abline(v=8,col="red")
```
\

$$`r mystr`$$

```{r,echo=FALSE,fig.dim=c(4,4)}
par(pty="s",mar=c(0,0,0,0))
plot(0,0,type="n",axes = F,asp=1,xlim=c(0,10),ylim=c(0,10),ann=FALSE)
for(i in 0:9){
  text(0,i,i)
  text(10,i,i)
}
text(0,10,"x",cex=2)
text(10,10,"y",cex=2)
for(i in 1:n){
  lines(c(0.5,9.5),c(A[i],B[i]))
}
```
\

# We do

```{r,echo=FALSE,fig.dim=c(5,5)}

A = c(1,3,5,7,8)
B = c(1,4,8,5,2)
mystr = paste("(",A,", ",B,")",collapse="~~")

par(pty="s")
plot(A,B,xlim=c(0,10),ylim=c(0,10),xlab="x",ylab="y",asp=1,pch=20,cex=2)
for(i in 0:10){
  abline(h=i,lty=3)
  abline(v=i,lty=3)
}
```
\

* Is $y$ a function of $x$? (Does it pass vertical line test?)
* Is $x$ a function of $y$? (Does it pass horizontal line test?)
* Is there a one-to-one function? (Does it pass both tests?)

# We do 2

```{r,echo=FALSE}
A = c(1,3,5,5,7,8)
B = c(1,4,8,8,5,4)
mystr = paste("(",A,", ",B,")",collapse="~~")
```
\

A relation is expressed as a list of ordered $(x,y)$ pairs.

$$`r mystr`$$

* Is $y$ a function of $x$? (Does it pass vertical line test?)
* Is $x$ a function of $y$? (Does it pass horizontal line test?)
* Is there a one-to-one function? (Does it pass both tests?)


# We do 3

```{r,echo=FALSE}
A = c(2,4,6,8,9)
B = c(7,5,2,5,2)
mystr = paste("(",A,", ",B,")",collapse="~~")
```
\

```{r,echo=FALSE,fig.dim=c(4,4)}
par(pty="s",mar=c(0,0,0,0))
plot(0,0,type="n",axes = F,asp=1,xlim=c(0,10),ylim=c(0,10),ann=FALSE)
for(i in 0:9){
  text(0,i,i)
  text(10,i,i)
}
text(0,10,"x",cex=2)
text(10,10,"y",cex=2)
for(i in 1:n){
  lines(c(0.5,9.5),c(A[i],B[i]))
}
```
\

* Is $y$ a function of $x$?
* Is $x$ a function of $y$?
* Is there a one-to-one function?


# We do 4

```{r,echo=F}
should_y_bafo_x = F #sample(c(T,F),1,prob=c(0.5,0.5))
should_x_bafo_y = T #sample(c(T,F),1,prob=c(0.5,0.5))
while(T){
  x = sample(1:9,4,F)
  y = sample(1:9,4,F)
  is_x_afo_y = (length(unique(sign(diff(y))))==1)
  is_y_afo_x = (length(unique(sign(diff(x))))==1)
  if( abs(atan((y[3]-y[2])/(x[3]-x[2])) - atan((y[2]-y[1])/(x[2]-x[1]))) > pi/8 &&
      abs(atan((y[4]-y[3])/(x[4]-x[3])) - atan((y[3]-y[2])/(x[3]-x[2]))) > pi/8 &&
      is_x_afo_y == should_x_bafo_y &&
      is_y_afo_x == should_y_bafo_x
  ){break}
}
ans1 = paste0((is_y_afo_x==c(T,F))*1,collapse="")
ans2 = paste0((is_x_afo_y==c(T,F))*1,collapse="")
ans3 = paste0(((is_y_afo_x && is_x_afo_y)==c(T,F))*1,collapse="")
```

```{r,echo=FALSE,fig.dim=c(5,5)}
par(pty="s")
plot(x,y,type="n",xlim=c(0,10),ylim=c(0,10),xlab="x",ylab="y",asp=1,pch=20,cex=2)
xspline(x,y,shape=c(0,rep(-0.3,length(x)-2),0),lwd=3)
for(i in 0:10){
  abline(h=i,lty=3)
  abline(v=i,lty=3)
}
```
\

* Is $y$ a function of $x$?
* Is $x$ a function of $y$?
* Is there a one-to-one function?


