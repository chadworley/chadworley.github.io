```{r data generation, echo = FALSE, results = "hide"}
n = 4
while(T){
    decreasing = sample(c(T,F),1)
    xy = sample(-9:9,2*n)
    x = sort(xy[1:n])
    y = sort(xy[(n+1):(2*n)],decreasing = decreasing)
    m = (y[2:n]-y[1:(n-1)])/(x[2:n]-x[1:(n-1)])
    l = sqrt((x[2:n]-x[1:(n-1)])^2+(y[2:n]-y[1:(n-1)])^2)
    a = atan(m)
    stf = paste0(x,y,collapse=", ")
    
    xnf = x
    ynf = -y
    stnf = paste0(xnf,ynf,collapse=", ")
    
    xfn = -x
    yfn = y
    stfn = paste0(xfn,yfn,collapse=", ")
    
    xnfn = -x
    ynfn = -y
    stnfn = paste0(xnfn,ynfn,collapse=", ")
    
    xfi = y
    yfi = x
    stfi = paste0(xfi,yfi,collapse=", ")
    
    sts = c(stf,stnf,stfn,stnfn,stfi)
    
    if(length(unique(m))==(n-1) && length(unique(sts))==5 && min(abs(diff(a)))>pi/10 && abs(log(l[3]/l[1]))>log(1.4)){break}
}
xs = list(xnf,xfn,xnfn,xfi)
ys = list(ynf,yfn,ynfn,yfi)
ord = sample(1:4)


ord2 = sample(1:4)
funs = c("-f(x)","f(-x)","-f(-x)","f^{-1}(x)")
desc = c("a reflection over x axis, so all y values are multiplied by -1",
         "a reflection over y axis, so all x values are multiplied by -1",
         "reflections over x and y axes, so all x and y values are multiplied by -1",
         "a reflection over the y=x line, so x and y values are swapped")

sol1 = paste0(1*(ord2[1]==ord),collapse="")
sol2 = paste0(1*(ord2[2]==ord),collapse="")
sol3 = paste0(1*(ord2[3]==ord),collapse="")
sol4 = paste0(1*(ord2[4]==ord),collapse="")

a1 = c("A","B","C","D")[ord2[1]==ord]
a2 = c("A","B","C","D")[ord2[2]==ord]
a3 = c("A","B","C","D")[ord2[3]==ord]
a4 = c("A","B","C","D")[ord2[4]==ord]

```

Question
========

Let function $f$ be defined by the one-to-one [piece-wise linear](https://en.wikipedia.org/wiki/Piecewise_function) graph shown below.


```{r,echo=F,fig.dim=c(4,4)}
library(latex2exp)
par(pty="s",mar=c(0,0,0,0))
plot(x,y,"l",xlim=c(-10,10),ylim=c(-10,10),axes=F,ann=F)
for(i in -10:10){
    lines(c(-10,10),c(i,i),col="grey",lwd=0.7)
    lines(c(i,i),c(-10,10),col="grey",lwd=0.7)
}
for(i in seq(-10,10,5)){
    lines(c(-10,10),c(i,i),col="darkgrey",lwd=0.9)
    lines(c(i,i),c(-10,10),col="darkgrey",lwd=0.9)
}
abline(h=0,lwd=1.2)
abline(v=0,lwd=1.2)
lines(x,y,col="blue",lwd=2)
points(x,y,pch=19,cex=0.8,col="blue")
text(10,0.5,"10",col="darkgrey")
text(0.5,10,"10",col="darkgrey")
text(10.4,-0.5,"x")
text(-0.5,10.4,"y")

if(decreasing){
    legend("topright",TeX("$y=f(x)$"),col="blue",lwd=2)
} else {
    legend("topleft",TeX("$y=f(x)$"),col="blue",lwd=2)
}
```
\

Four reflections of $f$ are graphed below (and $y=f(x)$ is shown as a faint dashed line).

```{r define,echo=F}
plotit = function(x,y){
    plot(x,y,"n",xlim=c(-10,10),ylim=c(-10,10),axes=F,ann=F)
    for(i in -10:10){
        lines(c(-10,10),c(i,i),col="grey",lwd=0.7)
        lines(c(i,i),c(-10,10),col="grey",lwd=0.7)
    }
    for(i in seq(-10,10,5)){
        lines(c(-10,10),c(i,i),col="darkgrey",lwd=0.9)
        lines(c(i,i),c(-10,10),col="darkgrey",lwd=0.9)
    }
    abline(h=0,lwd=1.2)
    abline(v=0,lwd=1.2)
    lines(x,y,col="red",lwd=2)
    points(x,y,pch=19,cex=0.8,col="red")
    text(10,0.5,"10",col="darkgrey")
    text(0.5,10,"10",col="darkgrey")
    text(10.4,-0.5,"x")
    text(-0.5,10.4,"y")
}

```

```{r,echo=F,fig.dim=c(6,6)}
par(pty="s",mar=c(0,0,0,0),mfrow=c(2,2))
plotit(xs[[ord[1]]],ys[[ord[1]]])
lines(x,y,lty=3,col=rgb(0,0,1,0.5))
text(-10,10,"A",cex=2)
plotit(xs[[ord[2]]],ys[[ord[2]]])
lines(x,y,lty=3,col=rgb(0,0,1,0.5))
text(-10,10,"B",cex=2)
plotit(xs[[ord[3]]],ys[[ord[3]]])
lines(x,y,lty=3,col=rgb(0,0,1,0.5))
text(-10,10,"C",cex=2)
plotit(xs[[ord[4]]],ys[[ord[4]]])
lines(x,y,lty=3,col=rgb(0,0,1,0.5))
text(-10,10,"D",cex=2)


```
\

Match the graphs with their functions.

* $y=`r funs[ord2[1]]`$ is graph ##ANSWER1##
* $y=`r funs[ord2[2]]`$ is graph ##ANSWER2##
* $y=`r funs[ord2[3]]`$ is graph ##ANSWER3##
* $y=`r funs[ord2[4]]`$ is graph ##ANSWER4##



Answerlist
--------

* A
* B
* C
* D
* A
* B
* C
* D
* A
* B
* C
* D
* A
* B
* C
* D


Solution
========

Each of the graphs is a [rigid transformation](https://en.wikipedia.org/wiki/Rigid_transformation) of the $y=f(x)$ graph.

* $y=`r funs[ord2[1]]`$ is formed by `r desc[ord2[1]]`. So, graph `r a1`.
* $y=`r funs[ord2[2]]`$ is formed by `r desc[ord2[2]]`. So, graph `r a2`.
* $y=`r funs[ord2[3]]`$ is formed by `r desc[ord2[3]]`. So, graph `r a3`.
* $y=`r funs[ord2[4]]`$ is formed by `r desc[ord2[4]]`. So, graph `r a4`.



Meta-information
============
extype: cloze
exclozetype: schoice|schoice|schoice|schoice
exsolution: `r sol1`|`r sol2`|`r sol3`|`r sol4`
exname: function_reflections