---
title: "Create Inverse Function"
date: "Wed Aug 27"
output: 
    slidy_presentation:
        incremental: true
        css: style.css
---

# An inverse function UNDOES operations in REVERSE order

To put on footwear:

1. Put on socks.
2. Put on shoes.
3. Tie shoes.

To invert...

1. Untie shoes
2. Remove shoes
3. Remove socks


# PEMDAS: order of operations

Review, evaluate the expression:

$$10-2\cdot 3$$

* The multiplication occurs before the subtraction.
* $10-6~=~ 4$


# Many functions are a sequence of operations.


Consider the function shown below:

$$f(x)~=~\frac{2x-7}{5}$$

What are the operations applied to the input?

1. Multiply by 2.
2. Subtract 7.
3. Divide by 5.

* How would you undo those operations in reverse order?

1. Multiply by 5.
2. Add 7.
3. Divide by 2.

* Indeed, $f^{-1}(x)~=~\frac{5x+7}{2}$


# A function and its inverse undo each other

Consider the algebraic definitions of a function and its inverse:

$$f(x)~=~\frac{2x-7}{5}$$

$$f^{-1}(x)~=~\frac{5x+7}{2}$$

Evaluate $f(11)$

# A function and its inverse undo each other

Consider the algebraic definitions of a function and its inverse:

$$f(x)~=~\frac{2x-7}{5}$$

$$f^{-1}(x)~=~\frac{5x+7}{2}$$

Evaluate $f(11)$

$$f(11)~=~\frac{2(11)-7}{5}$$


$$f(11)~=~\frac{22-7}{5}$$


$$f(11)~=~\frac{15}{5}$$


$$f(11)~=~3$$

# A function and its inverse undo each other

Consider the algebraic definitions of a function and its inverse:

$$f(x)~=~\frac{2x-7}{5}$$

$$f^{-1}(x)~=~\frac{5x+7}{2}$$

Evaluate $f^{-1}(3)$


# A function and its inverse undo each other

Consider the algebraic definitions of a function and its inverse:

$$f(x)~=~\frac{2x-7}{5}$$

$$f^{-1}(x)~=~\frac{5x+7}{2}$$

Evaluate $f^{-1}(3)$

$$f^{-1}(3)~=~\frac{5(3)+7}{2}$$

$$f^{-1}(3)~=~\frac{15+7}{2}$$

$$f^{-1}(3)~=~\frac{22}{2}$$

$$f^{-1}(3)~=~11$$

# A function and its inverse undo each other

Consider the algebraic definitions of a function and its inverse:

$$f(x)~=~\frac{2x-7}{5}$$

$$f^{-1}(x)~=~\frac{5x+7}{2}$$

Notice $f(11)=3$ and $f^{-1}(3)=11$.


# To get an inverse function, "swap $x$ and $y$"

A one-to-one function, $g$, is defined with the table below.

```{r,echo=F,warning=F}
library(kableExtra)
set.seed(123)
x = 1:6
g = sample(1:6)
df = data.frame(x,g)
colnames(df) = c("$x$","$g(x)$")
df %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```

Can you identify the values to put in the inverse function's table?

```{r,echo=F,warning=F}
x = 1:6
gi = rep(" ",6)
df2 = data.frame(x,gi)
colnames(df2) = c("$x$","$g^{-1}(x)$")
df2 %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```

# To get an inverse function, "swap $x$ and $y$"

A one-to-one function, $g$, is defined with the table below.

```{r,echo=F,warning=F}
library(kableExtra)
set.seed(123)
x = 1:6
g = sample(1:6)
df = data.frame(x,g)
colnames(df) = c("$x$","$g(x)$")
df %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```

Can you identify the values to put in the inverse function's table?

```{r,echo=F,warning=F}
x = 1:6
gi = c("6",rep(" ",5))
df2 = data.frame(x,gi)
colnames(df2) = c("$x$","$g^{-1}(x)$")
df2 %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```


# To get an inverse function, "swap $x$ and $y$"

A one-to-one function, $g$, is defined with the table below.

```{r,echo=F,warning=F}
library(kableExtra)
set.seed(123)
x = 1:6
g = sample(1:6)
df = data.frame(x,g)
colnames(df) = c("$x$","$g(x)$")
df %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```

Can you identify the values to put in the inverse function's table?

```{r,echo=F,warning=F}
x = 1:6
gi = c("6","3",rep(" ",4))
df2 = data.frame(x,gi)
colnames(df2) = c("$x$","$g^{-1}(x)$")
df2 %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```


# To get an inverse function, "swap $x$ and $y$"

A one-to-one function, $g$, is defined with the table below.

```{r,echo=F,warning=F}
library(kableExtra)
set.seed(123)
x = 1:6
g = sample(1:6)
df = data.frame(x,g)
colnames(df) = c("$x$","$g(x)$")
df %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```

Can you identify the values to put in the inverse function's table?

```{r,echo=F,warning=F}
x = 1:6
gi = c("6","3","1",rep(" ",3))
df2 = data.frame(x,gi)
colnames(df2) = c("$x$","$g^{-1}(x)$")
df2 %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```

# To get an inverse function, "swap $x$ and $y$"

A one-to-one function, $g$, is defined with the table below.

```{r,echo=F,warning=F}
library(kableExtra)
set.seed(123)
x = 1:6
g = sample(1:6)
df = data.frame(x,g)
colnames(df) = c("$x$","$g(x)$")
df %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```

Can you identify the values to put in the inverse function's table?

```{r,echo=F,warning=F}
x = 1:6
gi = c("6","3","1","4",rep(" ",2))
df2 = data.frame(x,gi)
colnames(df2) = c("$x$","$g^{-1}(x)$")
df2 %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```

# To get an inverse function, "swap $x$ and $y$"

A one-to-one function, $g$, is defined with the table below.

```{r,echo=F,warning=F}
library(kableExtra)
set.seed(123)
x = 1:6
g = sample(1:6)
df = data.frame(x,g)
colnames(df) = c("$x$","$g(x)$")
df %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```

Can you identify the values to put in the inverse function's table?

```{r,echo=F,warning=F}
x = 1:6
gi = c("6","3","1","4","5"," ")
df2 = data.frame(x,gi)
colnames(df2) = c("$x$","$g^{-1}(x)$")
df2 %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```

# To get an inverse function, "swap $x$ and $y$"

A one-to-one function, $g$, is defined with the table below.

```{r,echo=F,warning=F}
library(kableExtra)
set.seed(123)
x = 1:6
g = sample(1:6)
df = data.frame(x,g)
colnames(df) = c("$x$","$g(x)$")
df %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```

Can you identify the values to put in the inverse function's table?

```{r,echo=F,warning=F}
x = 1:6
gi = c("6","3","1","4","5","2")
df2 = data.frame(x,gi)
colnames(df2) = c("$x$","$g^{-1}(x)$")
df2 %>%
kable() %>%
kable_styling(bootstrap_options = c("bordered","striped","condensed"),full_width = F)
```


# Graphically, a function and its inverse have reflective symmetry over the $y=x$ line.


```{r,echo=F}
set.seed(8)
n = 3
while(T){
  while(T){
    x = sort(sample(1:9,n))
    y = sort(sample(1:9,n))
    if(sample(0:1,1)==0){
      y=rev(y)
    }
    if(min(diff(atan(diff(y)/diff(x))))>pi/6){break}
  }
  xi = y
  yi = x
  wxi1 = 10-x
  wyi1 = 10-y
  wxi2 = 10-x
  wyi2 = y
  wxi3 = x
  wyi3 = 10-y
  xs = list(xi,wxi1,wxi2,wxi3)
  ys = list(yi,wyi1,wyi2,wyi3)
  xa = list(x,xi,wxi1,wxi2,wxi3)
  ya = list(y,yi,wyi1,wyi2,wyi3)
  alldiff = TRUE
  for(i in 1:4){
    for(j in (i+1):5){
      matches = 0
      for(k in 1:n){
        for(l in 1:n){
          if(xa[[i]][k]==xa[[j]][l] && ya[[i]][k]==ya[[j]][l]){
            matches = matches+1
          }
        }
      }
      if(matches>=n){alldiff=FALSE}
    }
  }
  if(alldiff){break}
}

ord = sample(1:4)
ans = paste0(1*(ord==1),collapse="")

lets = c("A","B","C","D")
whi = which(ord==1)
correct_letter = lets[whi]
```

The [one-to-one](https://en.wikipedia.org/wiki/Injective_function){target="_blank"} function $f$ is plotted below:

```{r,fig.dim=c(5,5),echo=FALSE,results="asis"}
par(pty="s")
plot(0,0,type="n",xlim=c(0,10),ylim=c(0,10),lwd=2,ylab="f(x)",xlab="x")
for(j in seq(0,10,1)){
  abline(h=j,lty=3)
  abline(v=j,lty=3)
}
abline(h=0,lwd=2)
abline(v=0,lwd=2)
xspline(x,y,shape=c(0,rep(-0.2,length(x)-2),0),border = "blue",lwd=4)
text(x[length(x)]+0.4,y[length(x)],"f",col="blue",cex=2)
#abline(0,1,col="black",cex="0.5",lty=2)
```
\

Can you draw the inverse function?


# Graphically, a function and its inverse have reflective symmetry over the $y=x$ line.


```{r,echo=F}
set.seed(8)
n = 3
while(T){
  while(T){
    x = sort(sample(1:9,n))
    y = sort(sample(1:9,n))
    if(sample(0:1,1)==0){
      y=rev(y)
    }
    if(min(diff(atan(diff(y)/diff(x))))>pi/6){break}
  }
  xi = y
  yi = x
  wxi1 = 10-x
  wyi1 = 10-y
  wxi2 = 10-x
  wyi2 = y
  wxi3 = x
  wyi3 = 10-y
  xs = list(xi,wxi1,wxi2,wxi3)
  ys = list(yi,wyi1,wyi2,wyi3)
  xa = list(x,xi,wxi1,wxi2,wxi3)
  ya = list(y,yi,wyi1,wyi2,wyi3)
  alldiff = TRUE
  for(i in 1:4){
    for(j in (i+1):5){
      matches = 0
      for(k in 1:n){
        for(l in 1:n){
          if(xa[[i]][k]==xa[[j]][l] && ya[[i]][k]==ya[[j]][l]){
            matches = matches+1
          }
        }
      }
      if(matches>=n){alldiff=FALSE}
    }
  }
  if(alldiff){break}
}

ord = sample(1:4)
ans = paste0(1*(ord==1),collapse="")

lets = c("A","B","C","D")
whi = which(ord==1)
correct_letter = lets[whi]
```

The [one-to-one](https://en.wikipedia.org/wiki/Injective_function){target="_blank"} function $f$ is plotted below:

```{r,fig.dim=c(5,5),echo=FALSE,results="asis"}
library(latex2exp)
par(pty="s")
plot(0,0,type="n",xlim=c(0,10),ylim=c(0,10),lwd=2,ylab="f(x)",xlab="x")
for(j in seq(0,10,1)){
  abline(h=j,lty=3)
  abline(v=j,lty=3)
}
abline(h=0,lwd=2)
abline(v=0,lwd=2)
xspline(x,y,shape=c(0,rep(-0.2,length(x)-2),0),border = "blue",lwd=2)
abline(0,1,col="black",cex="0.5",lty=2)
xspline(xi,yi,shape=c(0,rep(-0.2,length(x)-2),0),border = "red",lwd=2)

legend("topright",c(TeX("$y=f(x)$"),TeX("$y=f^{-1}(x)$"),TeX("$y=x$")),lwd=c(2,2,1),lty=c(1,1,2),col=c("blue","red","black"))

```
\
















