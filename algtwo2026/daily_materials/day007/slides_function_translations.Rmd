---
title: "Function Translations"
author: "Mr. Worley"
# output: html_document
output: 
    slidy_presentation:
        incremental: true
---

# Puzzle 1

```{r, echo = FALSE, results = "hide"}
set.seed(123)
x = 1:9
n = length(x)
f = sample(20:80,n)*sample(c(-1,1),n,T)
a = sample(4:6,1)
c = 2
fapc = f[x==a+c]
```

```{r,echo=F,warning=F}
library(kableExtra)
df = data.frame(x,f)
colnames(df) = c("$x$","$f(x)$")
kable_styling(kable(df),bootstrap_options = "bordered",full_width = F)
```

Let $a=`r a`$. Evaluate $f(a+`r c`)$.

* Solution: substitute $`r a`$ for $a$ in the expression.
$$f(a+`r c`)~=~f(`r a`+`r c`)$$
* Simplify the argument with arithmetic.
$$f(a+`r c`)~=~f(`r a+c`)$$
* Use the table to determine that $f(`r a+c`)=`r f[a+c]`$.
$$f(a+`r c`)~=~`r f[a+c]`$$

# Puzzle 2

```{r, echo = FALSE, results = "hide"}
fapc = f[x==a]+c
```

```{r,echo=F,warning=F}
df = data.frame(x,f)
colnames(df) = c("$x$","$f(x)$")
kable_styling(kable(df),bootstrap_options = "bordered",full_width = F)
```

Let $a=`r a`$. Evaluate $f(a)+`r c`$.

* Solution: substitute $`r a`$ for $a$ in the expression.
$$f(a)+`r c`~=~f(`r a`)+`r c`$$
* Use the table to determine that $f(`r a`)=`r f[a]`$. Substitute.
$$f(a)+`r c`~=~`r f[a]`+`r c`$$
* Use arithmetic. $$f(a)+`r c`=`r f[a]+c`$$

# Puzzle 3

```{r, echo = FALSE, results = "hide"}
d = 3
fapc = f[x==a-c]+d
```

```{r,echo=F,warning=F}
df = data.frame(x,f)
colnames(df) = c("$x$","$f(x)$")
kable_styling(kable(df),bootstrap_options = "bordered",full_width = F)
```

Let $a=`r a`$. Evaluate $f(a-`r c`)+`r d`$.

* Solution: substitute $`r a`$ for $a$ in the expression.
$$f(a-`r c`)+`r d`~=~f(`r a`-`r c`)+`r d`$$
* Use arithmetic to simplify the argument. $$f(a-`r c`)+`r d`~=~f(`r a-c`)+`r d`$$
* Use the table.
$$f(a-`r c`)+`r d`~=~`r f[a-c]`+`r d`$$
* Use arithmetric to simplify.
$$f(a-`r c`)+`r d`~=~`r f[a-c]+d`$$


# Classwork Break

[https://bart.instructure.com/courses/2110/quizzes/3157](https://bart.instructure.com/courses/2110/quizzes/3157)

# Horizontal Translation

Let function $f$ be defined with the following table:

```{r,echo=F,warning=F}
set.seed(123)
library(kableExtra)
x = 4:9
n = length(x)
y = sample(20:29,n)
df1 = data.frame(x,y)
colnames(df1) = c("$x$","$f(x)$")
kable_styling(kable(df1),bootstrap_options = "bordered",full_width = F)
```

Let another function, $g$, be defined:

$$g(x)~=~f(x+2)$$

Using all the information in the first table, we wish to create a new table for $g$.

```{r,echo=F,warning=F}
df1 = data.frame(rep(" ",n),rep(" ",n))
colnames(df1) = c("$x$","$g(x)$")
kable_styling(kable(df1),bootstrap_options = "bordered",full_width = F)
```

* We might start by using $x=4$.
* We use the definition of $g$, replacing all $x$ values with $4$. $$g(4)=f(4+2)$$
* We can simplify the expression in the argument of $f$. $$g(4)=f(6)$$
* We know the value of $f(6)$... $$f(6)=`r y[x==6]`$$
* And, thus, $$g(4)=`r y[x==6]`$$
```{r,echo=F,warning=F}
df1 = data.frame(4,y[x==6])
colnames(df1) = c("$x$","$g(x)$")
kable_styling(kable(df1),bootstrap_options = "bordered",full_width = F)
```
* Can you predict what the whole table for $g$ will look like?
* Notice, the effect was simply to reduce each $x$ value by 2.
```{r,echo=F,warning=F}
df1 = data.frame(x-2,y)
colnames(df1) = c("$x$","$g(x)$")
kable_styling(kable(df1),bootstrap_options = "bordered",full_width = F)
```
* If we make a graph of both $y=f(x)$ and $y=g(x)$, what is the transformation that explains how to get $g$ from $f$?
* If we shift $y=f(x)$ to the left by 2 units, we get $y=g(x)$. Notice this is a bit confusing, because of the plus symbol in the definition $g(x)=f(x+2)$, you might (incorrectly) think we should add two to each $x$ value. The reason for the leftward shift is based on needing the argument of $f$ to equal a specific value. For example, for the argument of $f$ to equal 5, we need $x+2=5$, which we solve by **subtracting** 2 from both sides.
*
```{r,echo=F,fig.dim=c(5,5)}
library(latex2exp)
par(pty="s")
plot(0,0,"n",xlim=c(0,10),ylim=c(20,30),xlab="x",ylab="y")
points(x,y,col="blue",pch=19)
points(x-2,y,col="red",pch=19)
legend("topright",c(TeX("$y=f(x)$"),TeX("$y=f(x+2)$")),col=c("blue","red"),pch=c(19,19))
```


# Practice Problem 1

A function $f$ is graphed below as $y=f(x)$.

```{r,echo=F,fig.dim=c(5,5)}
par(mar=c(4,4,0,0))
library(latex2exp)
par(pty="s")
plot(0,0,"n",xlim=c(0,10),ylim=c(0,10),xlab="x",ylab="y")
x = c(3,6,8,9)-1
y = c(2,3,5,7)
for(i in 0:10){
    lines(c(i,i),c(0,10),col="grey",lwd=0.6)
    lines(c(0,10),c(i,i),col="grey",lwd=0.6)
}

lines(x,y,lwd=3,col="blue")
points(x,y,lwd=3,col="blue",pch=19)
legend("top",TeX("$y=f(x)$"),lwd=3,col="blue")
```

Please sketch $y=f(x-2)$.

* We can first get a list of coordinates from the $y=f(x)$ curve.
```{r,echo=F}
df2 = data.frame(x,y)
colnames(df2) = c("$x$","$f(x)$")
kable_styling(kable(df2),bootstrap_options = "bordered",full_width = F)
```
* Now, we can generate another table... keep in mind: this table's $x$ values are not the same as the old table's $x$ values. We are allowed to do this... The goal is to find values of $x$ that make the argument (which is $x-2$ in this case) equal to inputs which give known outputs.
```{r,echo=F}
df2 = data.frame(x+2,x,y)
colnames(df2) = c("$x$","$x-2$","$f(x-2)$")
kable_styling(kable(df2),bootstrap_options = "bordered",full_width = F)
```
* We can get rid of the middle column to get coordinates to plot for $y=f(x-2)$.
```{r,echo=F}
df2 = data.frame(x+2,y)
colnames(df2) = c("$x$","$f(x-2)$")
kable_styling(kable(df2),bootstrap_options = "bordered",full_width = F)
```
* And plot those new coordinates.
*
```{r,echo=F,fig.dim=c(5,5)}
par(mar=c(4,4,0,0))
library(latex2exp)
par(pty="s")
plot(0,0,"n",xlim=c(0,10),ylim=c(0,10),xlab="x",ylab="y")
x = c(3,6,8,9)-1
y = c(2,3,5,7)
for(i in 0:10){
    lines(c(i,i),c(0,10),col="grey",lwd=0.6)
    lines(c(0,10),c(i,i),col="grey",lwd=0.6)
}

lines(x,y,lwd=2,col="blue")
points(x,y,lwd=2,col="blue",pch=19)
lines(x+2,y,lwd=3,col="red")
points(x+2,y,lwd=3,col="red",pch=19)
legend("top",c(TeX("$y=f(x)$"),TeX("$y=f(x-2)$")),lwd=c(2,3),col=c("blue","red"))
```
* Note that we shifted (translated) horizontally to the right by 2. In other words, we added 2 to every $x$ value.


# Practice Problem 2

Let function $f$ be defined by the table below:

```{r,echo=F,warning=F}
x = c(1,5,9)
f = c(8,4,7)
df1 = data.frame(x,f)
colnames(df1) = c("$x$","$f(x)$")
kable_styling(kable(df1),bootstrap_options = "bordered",full_width = F)
```

Let function $g$ be defined by the equation below:

$$g(x)~=~f(x+3)$$

Fill out the table below:

```{r,echo=F,warning=F}
xb = rep(" $\\phantom{\\frac{1}{3}+1}$ ",3)
fb = rep(" $\\phantom{\\frac{1}{3}+1}$ ",3)
df1 = data.frame(xb,fb)
colnames(df1) = c("$x$","$g(x)$")
kable_styling(kable(df1),bootstrap_options = "bordered",full_width = F)
```

* Subtract 3 from each value of $x$...
```{r,echo=F,warning=F}
x = c(1,5,9)-3
f = c(8,4,7)
df1 = data.frame(x,f)
colnames(df1) = c("$x$","$g(x)$")
kable_styling(kable(df1),bootstrap_options = "bordered",full_width = F)
```


# Practice Problem 3

Let function $f$ be the [squaring function](https://en.wikipedia.org/wiki/Square_(algebra)#In_real_numbers):

$$f(x)~=~x^2$$

When we graph $y=f(x)$, we get an upwards-opening [parabola](https://en.wikipedia.org/wiki/Parabola) with a vertex at $(0,0)$ and a focus at $\left(0,\frac{1}{4}\right)$.

```{r,echo=F,fig.dim=c(5,5)}
par(mar=c(4,4,0,0))
par(pty="s")
plot(0,0,"n",xlim=c(-10,10),ylim=c(-5,15),xlab="x",ylab="y")
x = seq(-10,10,0.01)
y = x^2
for(i in -5:15){
    lines(c(-10,10),c(i,i),col="grey",lwd=0.6)
}
for(i in -10:10){
    lines(c(i,i),c(-5,15),col="grey",lwd=0.6)
}
for(i in seq(-10,15,5)){
    lines(c(i,i),c(-5,15),col="darkgrey",lwd=0.9)
    lines(c(-10,10),c(i,i),col="darkgrey",lwd=0.9)
}
abline(h=0)
abline(v=0)

lines(x,y,lwd=2,col="blue")
# lines(x+2,y,lwd=3,col="red")
legend("right",c(TeX("$y=f(x)$"),TeX("$y=f(x-2)$"))[1],lwd=c(2,3)[1],col=c("blue","red")[1])
```

Let function $g$ be defined by the following equation:

$$g(x)~=~f(x+5)$$

In other words, $g(x)=(x+5)^2$. Can you sketch a graph of $y=g(x)$? In other words, can you sketch $y=(x+5)^2$?

* We shift it to the left by 5.
```{r,echo=F,fig.dim=c(5,5)}
par(mar=c(4,4,0,0))
par(pty="s")
plot(0,0,"n",xlim=c(-10,10),ylim=c(-5,15),xlab="x",ylab="y")
x = seq(-10,10,0.01)
y = x^2
for(i in -5:15){
    lines(c(-10,10),c(i,i),col="grey",lwd=0.6)
}
for(i in -10:10){
    lines(c(i,i),c(-5,15),col="grey",lwd=0.6)
}
for(i in seq(-10,15,5)){
    lines(c(i,i),c(-5,15),col="darkgrey",lwd=0.9)
    lines(c(-10,10),c(i,i),col="darkgrey",lwd=0.9)
}
abline(h=0)
abline(v=0)

lines(x,y,lwd=2,col="blue")
lines(x-5,y,lwd=3,col="red")
legend("right",c(TeX("$y=x^2$"),TeX("$y=(x+5)^2$")),lwd=c(2,3),col=c("blue","red"))
```


# Vertical Translation

Now for a different variation. Let function $f$ be defined by the table below.


```{r,echo=F,warning=F}
set.seed(123)
library(kableExtra)
x = -3:3
n = length(x)
y = (x-1)^2
df1 = data.frame(x,y)
colnames(df1) = c("$x$","$f(x)$")
kable_styling(kable(df1),bootstrap_options = "bordered",full_width = F)
```

Let function $g$ be defined by the equation below.

$$g(x)=f(x)+10$$

* Can you fill the table below?
```{r,echo=F,warning=F}
xb = rep(" $\\phantom{\\frac{1}{3}+1}$ ",n)
fb = rep(" $\\phantom{\\frac{1}{3}+1}$ ",n)
df1 = data.frame(xb,fb)
colnames(df1) = c("$x$","$g(x)$")
kable_styling(kable(df1),bootstrap_options = "bordered",full_width = F)
```
* This transformation is easier to understand. The $x$ values stay the same.
* We can pick $x=-3$ as an example first. Inside the definition of $g$, we replace all values of $x$ with $-3$.
$$g(-3)=f(-3)+10$$
* We already know that $f(-3)=16$. $$g(-3)=16+10$$ $$g(-3)=26$$
* So we can fill the first row.
```{r,echo=F,warning=F}
xg = c("-3",rep(" $\\phantom{\\frac{1}{3}+1}$ ",n-1))
gg = c("26",rep(" $\\phantom{\\frac{1}{3}+1}$ ",n-1))
df1 = data.frame(xg,gg)
colnames(df1) = c("$x$","$g(x)$")
kable_styling(kable(df1),bootstrap_options = "bordered",full_width = F)
```
* So, what about the rest of the table?
* We just add 10 to all the $f$ outputs to get the $g$ outputs.
```{r,echo=F,warning=F}
xg = x
gg = y+10
df1 = data.frame(xg,gg)
colnames(df1) = c("$x$","$g(x)$")
kable_styling(kable(df1),bootstrap_options = "bordered",full_width = F)
```


# Practice problem 4

Let function $f$ represent [the square-root function](https://en.wikipedia.org/wiki/Square_root#Properties_and_uses).

```{r,echo=F,fig.dim=c(5,5)}
par(mar=c(4,4,0,0))
par(pty="s")
plot(0,0,"n",xlim=c(0,20),ylim=c(-10,10),xlab="x",ylab="y")
x = seq(0,20,0.01)
y = sqrt(x)
for(i in -10:10){
    lines(c(0,20),c(i,i),col="grey",lwd=0.6)
}
for(i in 0:20){
    lines(c(i,i),c(-10,10),col="grey",lwd=0.6)
}
# for(i in seq(-10,15,5)){
#     lines(c(i,i),c(-5,15),col="darkgrey",lwd=0.9)
#     lines(c(-10,10),c(i,i),col="darkgrey",lwd=0.9)
# }
abline(h=0)
abline(v=0)

lines(x,y,lwd=2,col="blue")
x2 = c(0,1,4,9,16)
y2 = sqrt(x2)
points(x2,y2,pch=19,col="blue",cex=0.8)
# lines(x+2,y,lwd=3,col="red")
legend("right",c(TeX("$y=\\sqrt{x}$"),TeX("$y=f(x-2)$"))[1],lwd=c(2,3)[1],col=c("blue","red")[1])
```

* How would you graph $y=\sqrt{x}-8$?
* The curve shifts down by 8.
*
```{r,echo=F,fig.dim=c(5,5)}
par(mar=c(4,4,0,0))
par(pty="s")
plot(0,0,"n",xlim=c(0,20),ylim=c(-10,10),xlab="x",ylab="y")
x = seq(0,20,0.01)
y = sqrt(x)
for(i in -10:10){
    lines(c(0,20),c(i,i),col="grey",lwd=0.6)
}
for(i in 0:20){
    lines(c(i,i),c(-10,10),col="grey",lwd=0.6)
}
# for(i in seq(-10,15,5)){
#     lines(c(i,i),c(-5,15),col="darkgrey",lwd=0.9)
#     lines(c(-10,10),c(i,i),col="darkgrey",lwd=0.9)
# }
abline(h=0)
abline(v=0)

lines(x,y,lwd=2,col="blue")
x2 = c(0,1,4,9,16)
y2 = sqrt(x2)
lines(x,y-8,lwd=2,col="red")
legend("right",c(TeX("$y=\\sqrt{x}$"),TeX("$y=\\sqrt{x}-8$")),lwd=c(2,3),col=c("blue","red"))
```

* How do you graph $y=\sqrt{x-8}$?
* Since the subtraction of 8 happens BEFORE the square-root function, this causes a horizontal shift to the right.
*
```{r,echo=F,fig.dim=c(5,5)}
par(mar=c(4,4,0,0),pty="s")
plot(0,0,"n",xlim=c(0,20),ylim=c(-10,10),xlab="x",ylab="y")
x = seq(0,20,0.01)
y = sqrt(x)
for(i in -10:10){
    lines(c(0,20),c(i,i),col="grey",lwd=0.6)
}
for(i in 0:20){
    lines(c(i,i),c(-10,10),col="grey",lwd=0.6)
}
# for(i in seq(-10,15,5)){
#     lines(c(i,i),c(-5,15),col="darkgrey",lwd=0.9)
#     lines(c(-10,10),c(i,i),col="darkgrey",lwd=0.9)
# }
abline(h=0)
abline(v=0)

lines(x,y,lwd=2,col="blue")
lines(x,y-8,lwd=2,col="red")
lines(x+8,y,lwd=2,col="purple")
legend("right",c(TeX("$y=\\sqrt{x}$"),TeX("$y=\\sqrt{x}-8$"),TeX("$y=\\sqrt{x-8}$")),lwd=c(2,2,2),col=c("blue","red","purple"))
```


# Summary

* Adding/subtracting a constant **inside** the function (so the addition happens before the function is applied) causes a horizontal shift. Adding a positive number inside causes a leftward shift.
* Adding/subtracting a constant **outside** the function (so the addition happens after the function is applied) causes a vertical shift. Adding a positive number outside causes an upward shift.
* Visual example with function notation: 
```{r,echo=F,fig.dim=c(10,5)}
x = seq(-1,1,0.001)
y = x^3
par(mar=c(4,4,0,0),pty="s",mfrow=c(1,2))
plot(0,0,"n",xlim=c(-5,5),ylim=c(-5,5),xlab="x",ylab="y")
for(i in -5:5){
    lines(c(-5,5),c(i,i),col="grey",lwd=0.8)
    lines(c(i,i),c(-5,5),col="grey",lwd=0.8)
}
abline(h=0)
abline(v=0)
lines(x,y,col="black",lwd=6)
lines(x-3,y,col="red",lwd=6)
lines(x+3,y,col="darkgreen",lwd=6)
lines(x,y+3,col="blue",lwd=6)
lines(x,y-3,col="purple",lwd=6)

plot(0,0,"n",axes=F,ann=F)
legend("top",
       c(TeX("$y=f(x)$"),TeX("$y=f(x+3)$"),TeX("$y=f(x-3)$"),TeX("$y=f(x)+3$"),TeX("$y=f(x)-3$")),
       col=c("black","red","darkgreen","blue","purple"),
       lwd=c(6,6,6,6,6),cex=2)

```
* Visual example with square-root function: 
```{r,echo=F,fig.dim=c(10,5)}
x = seq(0,20,0.001)
y = sqrt(x)
par(mar=c(4,4,0,0),pty="s",mfrow=c(1,2))
plot(0,0,"n",xlim=c(-5,5),ylim=c(-5,5),xlab="x",ylab="y")
for(i in -5:5){
    lines(c(-5,5),c(i,i),col="grey",lwd=0.8)
    lines(c(i,i),c(-5,5),col="grey",lwd=0.8)
}
abline(h=0)
abline(v=0)
lines(x,y,col="black",lwd=6)
lines(x-3,y,col="red",lwd=6)
lines(x+3,y,col="darkgreen",lwd=6)
lines(x,y+3,col="blue",lwd=6)
lines(x,y-3,col="purple",lwd=6)

plot(0,0,"n",axes=F,ann=F)
legend("top",
       c(TeX("$y=\\sqrt{x}$"),TeX("$y=\\sqrt{x+3}$"),TeX("$y=\\sqrt{x-3}$"),TeX("$y=\\sqrt{x}+3$"),TeX("$y=\\sqrt{x}-3$")),
       col=c("black","red","darkgreen","blue","purple"),
       lwd=c(6,6,6,6,6),cex=2)

```




