---
output: slidy_presentation
---

# Agenda

* Entrance Ticket: [ET_0922](https://bart.instructure.com/courses/2110/quizzes/3189)
* Coordinate Transformations
    * [slides_0922](https://chadworley.github.io/algtwo2026/u02/09_22/slides_09_22.html)
    * [OCW_0922_coordnt_transfrmtn](https://bart.instructure.com/courses/2110/quizzes/3190)
    * [PCW_0922_coordnte_trnsfrm](https://bart.instructure.com/courses/2110/assignments/28777)
    * [OCW_0922_B_transform_shortcuts](https://bart.instructure.com/courses/2110/quizzes/3191)


# Coordinate transformations

* Shift all points 2 units right:
$$(a,b)\to (a+2,b)$$
* Shift all points 3 units left and 5 units up:
$$(a,b)\to (a-3,b+5)$$
* Stretch points horizontally by a factor of 2:
$$(a,b)\to (2a,b)$$


# Problem 1

Let function $g$ be defined as a transformation of function $f$:

$$g[x]~=~ \frac{f[2x+3]}{5}+7$$

We know point $(a,b)$ is on curve $f$. In other words, we know $f[a]=b$.

* What is the corresponding point on curve $g$?

# Solution 1

Restate problem. We are given two equations:

$$g[x]~=~ \frac{f[2x+3]}{5}+7$$
$$f[a]=b$$

We wish to find a coordinate transformation that describes how to find the corresponding point on $g$.


1. Set the argument of $f$ equal to $a$ because we want to use the fact that $f[a]=b$.
$$2x+3=a$$
2. Solve for $x$.
$$2x=a-3$$
$$x=\frac{a-3}{2}$$
3. Substitute $a$ for $2x+3$.

$$g[x]~=~ \frac{f[a]}{5}+7$$

4. Substitute $\frac{a-3}{2}$ for $x$.

$$g{\left[\frac{a-3}{2}\right]}~=~ \frac{f[a]}{5}+7$$

5. Substitute $b$ for $f[a]$.

$$g{\left[\frac{a-3}{2}\right]}~=~ \frac{b}{5}+7$$

And, so we know point $\left(\frac{a-3}{2},\frac{b}{5}+7\right)$ is on the $g$ curve. Thus, the coordinate transformation can be written:

$$(a,b)\to \left(\frac{a-3}{2},\frac{b}{5}+7\right)$$

# Shortcut

We were given:

$$g[x]~=~ \frac{f[2x+3]}{5}+7$$

### Horizontal coordinate

Notice the argument $2x+3$ is composed of two elementary operations:

1. Multiply by 2
2. Add 3

If we consider the INVERSE of the argument:

1. Subtract 3
2. Divide by 2

And that's exactly what we see in the expression $\frac{a-3}{2}$. This is not a coincidence.

### Vertical coordinate

Replace the entire $f$ expression (the $f$, the argument, and the argument's brackets) with $b$. In this case, we get $\frac{b}{5}+7$


### Final answer

$$(a,b)\to \left(\frac{a-3}{2},\frac{b}{5}+7\right)$$



# Problem 2

```{r, echo = FALSE, results = "hide"}
set.seed(1)
et1s = sample(1:8,8)
et2s = sample(1:8,8)
et1 = et1s[1]
et2 = et2s[1]
mas = sample(2:9,4)
m1 = mas[1]
m2 = mas[2]
a1 = mas[3]
a2 = mas[4]
exp_frames = c("M\\left(x+A\\right)",
               "M x+A",
               "M\\left(x-A\\right)",
               "M x-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")
exp_frames2 = c("M\\cdot\\left(x+A\\right)",
               "M\\cdot x+A",
               "M\\cdot\\left(x-A\\right)",
               "M\\cdot x-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")

exp2 = exp_frames2[et2]
exp2 = gsub("A",a2,exp2,fixed=T)
exp2 = gsub("M",m2,exp2,fixed=T)
exp3 = gsub("x","f{\\left[a\\right]}",exp2,fixed=T)
exp4 = gsub("x","b",exp2,fixed=T)
exptemp = gsub("x","f{\\left[arg\\right]}",exp2,fixed=T)
exp1 = gsub("arg",exp_frames[et1],exptemp,fixed=T)
exp1 = gsub("A",a1,exp1,fixed=T)
exp1 = gsub("M",m1,exp1,fixed=T)

invarg = exp_frames[9-et1]
invarg = gsub("A",a1,invarg,fixed=T)
invarg = gsub("M",m1,invarg,fixed=T)
invarg = gsub("x","a",invarg,fixed=T)

outex = exp_frames[et2]
outex = gsub("A",a2,outex,fixed=T)
outex = gsub("M",m2,outex,fixed=T)
outex = gsub("x","b",outex,fixed=T)

ca = paste0("$$(a,b)\\to \\left(",invarg,"~,~",outex,"\\right)$$",collapse="")

```

Consider the two functions $f$ and $g$, where $g$ is defined as a transformation of $f$:

$$g[x]~=~`r exp1`$$

For point $(a,b)$ on curve $f$ there is a corresponding point on the curve $g$. 

Write the coordinate transformation.


# Solution 2

Consider the two functions $f$ and $g$, where $g$ is defined as a transformation of $f$:

$$g[x]~=~`r exp1`$$

For point $(a,b)$ on curve $f$ there is a corresponding point on the curve $g$. 

Write the coordinate transformation.


`r ca`


# Problem 3

```{r, echo = FALSE, results = "hide"}
et1 = et1s[2]
et2 = et2s[2]
mas = sample(2:9,4)
m1 = mas[1]
m2 = mas[2]
a1 = mas[3]
a2 = mas[4]
exp_frames = c("M\\left(x+A\\right)",
               "M x+A",
               "M\\left(x-A\\right)",
               "M x-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")
exp_frames2 = c("M\\cdot\\left(x+A\\right)",
               "M\\cdot x+A",
               "M\\cdot\\left(x-A\\right)",
               "M\\cdot x-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")

exp2 = exp_frames2[et2]
exp2 = gsub("A",a2,exp2,fixed=T)
exp2 = gsub("M",m2,exp2,fixed=T)
exp3 = gsub("x","f{\\left[a\\right]}",exp2,fixed=T)
exp4 = gsub("x","b",exp2,fixed=T)
exptemp = gsub("x","f{\\left[arg\\right]}",exp2,fixed=T)
exp1 = gsub("arg",exp_frames[et1],exptemp,fixed=T)
exp1 = gsub("A",a1,exp1,fixed=T)
exp1 = gsub("M",m1,exp1,fixed=T)

invarg = exp_frames[9-et1]
invarg = gsub("A",a1,invarg,fixed=T)
invarg = gsub("M",m1,invarg,fixed=T)
invarg = gsub("x","a",invarg,fixed=T)

outex = exp_frames[et2]
outex = gsub("A",a2,outex,fixed=T)
outex = gsub("M",m2,outex,fixed=T)
outex = gsub("x","b",outex,fixed=T)

ca = paste0("$$(a,b)\\to \\left(",invarg,"~,~",outex,"\\right)$$",collapse="")

```

Consider the two functions $f$ and $g$, where $g$ is defined as a transformation of $f$:

$$g[x]~=~`r exp1`$$

For point $(a,b)$ on curve $f$ there is a corresponding point on the curve $g$. 

Write the coordinate transformation.


# Solution 3

Consider the two functions $f$ and $g$, where $g$ is defined as a transformation of $f$:

$$g[x]~=~`r exp1`$$

For point $(a,b)$ on curve $f$ there is a corresponding point on the curve $g$. 

Write the coordinate transformation.


`r ca`


# Problem 4

```{r, echo = FALSE, results = "hide"}
et1 = et1s[3]
et2 = et2s[3]
mas = sample(2:9,4)
m1 = mas[1]
m2 = mas[2]
a1 = mas[3]
a2 = mas[4]
exp_frames = c("M\\left(x+A\\right)",
               "M x+A",
               "M\\left(x-A\\right)",
               "M x-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")
exp_frames2 = c("M\\cdot\\left(x+A\\right)",
               "M\\cdot x+A",
               "M\\cdot\\left(x-A\\right)",
               "M\\cdot x-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")

exp2 = exp_frames2[et2]
exp2 = gsub("A",a2,exp2,fixed=T)
exp2 = gsub("M",m2,exp2,fixed=T)
exp3 = gsub("x","f{\\left[a\\right]}",exp2,fixed=T)
exp4 = gsub("x","b",exp2,fixed=T)
exptemp = gsub("x","f{\\left[arg\\right]}",exp2,fixed=T)
exp1 = gsub("arg",exp_frames[et1],exptemp,fixed=T)
exp1 = gsub("A",a1,exp1,fixed=T)
exp1 = gsub("M",m1,exp1,fixed=T)

invarg = exp_frames[9-et1]
invarg = gsub("A",a1,invarg,fixed=T)
invarg = gsub("M",m1,invarg,fixed=T)
invarg = gsub("x","a",invarg,fixed=T)

outex = exp_frames[et2]
outex = gsub("A",a2,outex,fixed=T)
outex = gsub("M",m2,outex,fixed=T)
outex = gsub("x","b",outex,fixed=T)

ca = paste0("$$(a,b)\\to \\left(",invarg,"~,~",outex,"\\right)$$",collapse="")

```

Consider the two functions $f$ and $g$, where $g$ is defined as a transformation of $f$:

$$g[x]~=~`r exp1`$$

For point $(a,b)$ on curve $f$ there is a corresponding point on the curve $g$. 

Write the coordinate transformation.


# Solution 4

Consider the two functions $f$ and $g$, where $g$ is defined as a transformation of $f$:

$$g[x]~=~`r exp1`$$

For point $(a,b)$ on curve $f$ there is a corresponding point on the curve $g$. 

Write the coordinate transformation.


`r ca`


# Problem 5

```{r, echo = FALSE, results = "hide"}
et1 = et1s[4]
et2 = et2s[4]
mas = sample(2:9,4)
m1 = mas[1]
m2 = mas[2]
a1 = mas[3]
a2 = mas[4]
exp_frames = c("M\\left(x+A\\right)",
               "M x+A",
               "M\\left(x-A\\right)",
               "M x-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")
exp_frames2 = c("M\\cdot\\left(x+A\\right)",
               "M\\cdot x+A",
               "M\\cdot\\left(x-A\\right)",
               "M\\cdot x-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")

exp2 = exp_frames2[et2]
exp2 = gsub("A",a2,exp2,fixed=T)
exp2 = gsub("M",m2,exp2,fixed=T)
exp3 = gsub("x","f{\\left[a\\right]}",exp2,fixed=T)
exp4 = gsub("x","b",exp2,fixed=T)
exptemp = gsub("x","f{\\left[arg\\right]}",exp2,fixed=T)
exp1 = gsub("arg",exp_frames[et1],exptemp,fixed=T)
exp1 = gsub("A",a1,exp1,fixed=T)
exp1 = gsub("M",m1,exp1,fixed=T)

invarg = exp_frames[9-et1]
invarg = gsub("A",a1,invarg,fixed=T)
invarg = gsub("M",m1,invarg,fixed=T)
invarg = gsub("x","a",invarg,fixed=T)

outex = exp_frames[et2]
outex = gsub("A",a2,outex,fixed=T)
outex = gsub("M",m2,outex,fixed=T)
outex = gsub("x","b",outex,fixed=T)

ca = paste0("$$(a,b)\\to \\left(",invarg,"~,~",outex,"\\right)$$",collapse="")

```

Consider the two functions $f$ and $g$, where $g$ is defined as a transformation of $f$:

$$g[x]~=~`r exp1`$$

For point $(a,b)$ on curve $f$ there is a corresponding point on the curve $g$. 

Write the coordinate transformation.


# Solution 5

Consider the two functions $f$ and $g$, where $g$ is defined as a transformation of $f$:

$$g[x]~=~`r exp1`$$

For point $(a,b)$ on curve $f$ there is a corresponding point on the curve $g$. 

Write the coordinate transformation.


`r ca`



```{r, echo = FALSE, results = "hide"}
xmin = 0
ymin = 0
xmax = 100
ymax = 100
np = 4
exp_types = sample(1:8,2,T)
et1 = exp_types[1]
et2 = exp_types[2]
mas = sample(2:9,4)
m1 = mas[1]
m2 = mas[2]
a1 = mas[3]
a2 = mas[4]
exp_frames = c("M\\left(x+A\\right)",
               "M x+A",
               "M\\left(x-A\\right)",
               "M x-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")
exp_frames2 = c("M\\cdot\\left(x+A\\right)",
               "M\\cdot x+A",
               "M\\cdot\\left(x-A\\right)",
               "M\\cdot x-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")

wd = c("add A and then multiply by M",
       "multiply by M and then add A",
       "subtract A and then multiply by M",
       "multiply by M and then subtract A",
       "add A and then divide by M",
       "divide by M and then add A",
       "subtract A and then divide by M",
       "divide by M and then subtract A")

funcs = list(function(x,A,M){M*(x+A)},
             function(x,A,M){M*x+A},
             function(x,A,M){M*(x-A)},
             function(x,A,M){M*x-A},
             function(x,A,M){(x+A)/M},
             function(x,A,M){x/M+A},
             function(x,A,M){(x-A)/M},
             function(x,A,M){x/M-A}
             )
xold = numeric()
yold = numeric()
xnew = numeric()
ynew = numeric()
while(length(xold)<np){
    xo = sample(0:100,1)
    yo = sample(0:100,1)
    xn = funcs[[9-et1]](xo,a1,m1)
    yn = funcs[[et2]](yo,a2,m2)
    if(xn%%1==0 && yn%%1==0 && !(xo %in% xold) && !(yo %in% yold) && 
       xn>=xmin && xn<=xmax && yn>=ymin && yn<=ymax){
        xold = c(xold,xo)
        yold = c(yold,yo)
        xnew = c(xnew,xn)
        ynew = c(ynew,yn)
        }
}
xoldsorted = sort(xold)
yoldunsorted = yold
xnewunsorted = xnew
ynewunsorted = ynew
for(i in 1:length(xoldsorted)){
    j = which(xold==xoldsorted[i])
    yold[i] = yoldunsorted[j]
    xnew[i] = xnewunsorted[j]
    ynew[i] = ynewunsorted[j]
}
xold = xoldsorted

exp1 = exp_frames2[et2]
exp1 = gsub("A",a2,exp1,fixed=T)
exp1 = gsub("M",m2,exp1,fixed=T)
exp1 = gsub("x","f{\\left[arg\\right]}",exp1,fixed=T)
exp1 = gsub("arg",exp_frames[et1],exp1,fixed=T)
exp1 = gsub("A",a1,exp1,fixed=T)
exp1 = gsub("M",m1,exp1,fixed=T)

argex = exp_frames[et1]
argex = gsub("A",a1,argex,fixed=T)
argex = gsub("M",m1,argex,fixed=T)

invarg = exp_frames[9-et1]
invarg = gsub("A",a1,invarg,fixed=T)
invarg = gsub("M",m1,invarg,fixed=T)
invarg = gsub("x","x_{\\text{old}}",invarg,fixed=T)

invsub = exp_frames2[9-et1]
invsub = gsub("A",a1,invsub,fixed=T)
invsub = gsub("M",m1,invsub,fixed=T)
invsub = gsub("x",xold[1],invsub,fixed=T)

argwd = wd[et1]
argwd = gsub("A",a1,argwd,fixed=T)
argwd = gsub("M",m1,argwd,fixed=T)

invwd = wd[9-et1]
invwd = gsub("A",a1,invwd,fixed=T)
invwd = gsub("M",m1,invwd,fixed=T)


outex = exp_frames2[et2]
outex = gsub("A",a2,outex,fixed=T)
outex = gsub("M",m2,outex,fixed=T)
outex = gsub("x","y_{\\text{old}}",outex,fixed=T)

outex2 = exp_frames2[et2]
outex2 = gsub("A",a2,outex2,fixed=T)
outex2 = gsub("M",m2,outex2,fixed=T)
outex2 = gsub("x",yold[1],outex2,fixed=T)

ach = sort(unique(c(xnew,ynew)))
while(length(ach)<10){
    ach = sort(unique(c(ach,sample(0:100,1))))
}

sols = character()
for(i in 1:np){
    sols = c(sols,paste0(1*(ach==xnew[i]),collapse=""))
}
for(i in 1:np){
    sols = c(sols,paste0(1*(ach==ynew[i]),collapse=""))
}

al = paste0("* ",ach,collapse="\n")
tal = paste0(rep(al,np*2),collapse="\n")


```



# Problem 6

Consider the two functions $f$ and $g$, where $g$ is defined as a transformation of $f$, as shown below as an equation true for any value of $x$:

$$g[x]~=~`r exp1`$$

We know the following points on the $y=f[x]$ curve:

```{r,echo=F,warning=F}
library(kableExtra)
df = data.frame(xold,yold)
colnames(df) = c("$x$","$f[x]$")
kable(df) %>%
    kable_styling("bordered",full_width = F)
```

Find the corresponding points on the $y=g[x]$ curve:


# Solution 6

Consider the two functions $f$ and $g$, where $g$ is defined as a transformation of $f$, as shown below as an equation true for any value of $x$:

$$g[x]~=~`r exp1`$$

We know the following points on the $y=f[x]$ curve:

```{r,echo=F,warning=F}
library(kableExtra)
df = data.frame(xold,yold)
colnames(df) = c("$x$","$f[x]$")
kable(df) %>%
    kable_styling("bordered",full_width = F)
```

Find the corresponding points on the $y=g[x]$ curve:

Use the shortcut for $x$, which tells us we can make a formula by inverting the argument expression. The argument expression says to `r argwd`, so the inverse must `r invwd`.

$$x_{\text{new}}~=~`r invarg`$$

Use the shortcut for $y$, which tells us we can make a formula by just looking at the operations outside of the function.

$$y_{\text{new}}~=~`r outex`$$


Use those formulas!

```{r,echo=F,warning=F}
library(kableExtra)
xcol = character()
ycol = character()

for(i in 1:np){
    invsub = exp_frames2[9-et1]
    invsub = gsub("A",a1,invsub,fixed=T)
    invsub = gsub("M",m1,invsub,fixed=T)
    invsub = gsub("x",xold[i],invsub,fixed=T)
    xcol = c(xcol,paste0("$$",invsub,"$$"))
    outex2 = exp_frames2[et2]
    outex2 = gsub("A",a2,outex2,fixed=T)
    outex2 = gsub("M",m2,outex2,fixed=T)
    outex2 = gsub("x",yold[i],outex2,fixed=T)
    ycol = c(ycol,paste0("$$",outex2,"$$"))
}

df = data.frame(paste0("$$",xold,"$$"),paste0("$$",yold,"$$"),xcol,ycol)
colnames(df) = c("$x_{\\text{old}}$","$y_{\\text{old}}$","$x_{\\text{new}}$","$y_{\\text{new}}$")
kable(df) %>%
    kable_styling("bordered",full_width = F)
```

And evaluate all the numerical expressions to get the answer. Notice we are only interested in $x_{\text{new}}$ and $y_{\text{new}}$.

```{r,echo=F,warning=F}
library(kableExtra)
df = data.frame(xnew,ynew)
colnames(df) = c("$x$","$g[x]$")
kable(df) %>%
    kable_styling("bordered",full_width = F)
```









