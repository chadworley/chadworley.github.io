---
output: pdf_document
params:
    rseed: 0
    showsol: true
    useseed: false
    titex: "null"
urlcolor: blue
---

```{r,echo=F}
if(params$useseed){
    set.seed(params$rseed)
}
```

Name: \hspace{4in} Date: \hfill \vspace{3pt} \hrule

# PCW_09_18 Find new points after transformation (version `r params$rseed`)

## Question 1


```{r,echo=F}
exp_types = sample(1:8,2)
et1 = exp_types[1]
et2 = exp_types[2]
exp_frames = c("M\\left(x+A\\right)",
               "Mx+A",
               "M\\left(x-A\\right)",
               "Mx-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")

funcs = list(function(x,A,M){M*(x+A)},
             function(x,A,M){M*x+A},
             function(x,A,M){M*(x-A)},
             function(x,A,M){M*x-A},
             function(x,A,M){(x+A)/M},
             function(x,A,M){x/M+A},
             function(x,A,M){(x-A)/M},
             function(x,A,M){x/M-A}
             )
while(T){
    mults = sample(c(2:3),2)
    Mx = mults[1]
    My = mults[2]
    xspace1 = sample(1:3,1)
    yspace1 = sample(1:3,1)
    xspace2 = xspace1*mults[1]
    yspace2 = yspace1*mults[2]
    xbig = sort(sample(0:floor(20/xspace2),3))*xspace2
    ybig = sample(0:floor(20/yspace2),3)*yspace2
    shifts = sample(1:6,2)
    Ax = shifts[1]
    Ay = shifts[2]
    if(et1<5){
        xsmall = funcs[[9-et1]](xbig,Ax,Mx)
        x1 = xbig
        x2 = xsmall
    } else {
        xsmall = funcs[[et1]](xbig,Ax,Mx)
        x1 = xsmall
        x2 = xbig
    }
    if(et2<5){
        ysmall = funcs[[9-et2]](ybig,Ay,My)
        y1 = ysmall
        y2 = ybig
    } else {
        ysmall = funcs[[et2]](ybig,Ay,My)
        y1 = ybig
        y2 = ysmall
    }
    alldem = c(x1,x2,y1,y2)
    m11 = (y1[2]-y1[1])/(x1[2]-x1[1])
    m12 = (y1[3]-y1[2])/(x1[3]-x1[2])
    if(min(alldem)>=0 && max(alldem)<=20 && sum(alldem%%1==0)==12 && m11 != m12){break}
}


exp1 = exp_frames[et2]
exp1 = gsub("x","f{\\left[X\\right]}",exp1,fixed=T)
exp1 = gsub("A",Ay,exp1,fixed=T)
exp1 = gsub("M",My,exp1,fixed=T)
exp1 = gsub("X",exp_frames[et1],exp1,fixed=T)
exp1 = gsub("A",Ax,exp1,fixed=T)
exp1 = gsub("M",Mx,exp1,fixed=T)

```

Curve $y=f(x)$ contains points $(`r x1[1]`,`r y1[1]`)$ and $(`r x1[2]`,`r y1[2]`)$ and $(`r x1[3]`,`r y1[3]`)$, as shown on the $x$-$y$ plane below.

```{r,echo=F,fig.dim=c(7,3.5)}
par(mar=c(3,3,0,0),oma=c(0,0,0,0),pty="s",mfrow=c(1,2))
plot(0,0,"n",xlim=c(0,20),ylim=c(0,20),axes=F,ann=F)
for(i in 1:20){
    lines(c(i,i),c(0,20),lwd=0.7)
    lines(c(0,20),c(i,i),lwd=0.7)
}
for(i in seq(0,20,5)){
    lines(c(i,i),c(0,20),lwd=1.2)
    lines(c(0,20),c(i,i),lwd=1.2)
}
axis(1,line=0)
axis(2,line=0)
mtext("x",1,line=0.5,at=17.5)
mtext("y",2,line=0.5,at=17.5)
lines(x1,y1,col="blue",lwd=3)
points(x1,y1,col="blue",pch=19,cex=0.8)

if(params$showsol==T){
    lines(x2,y2,col="red",lwd=3)
    points(x2,y2,col="red",pch=19,cex=0.8)
}

plot(0,0,"n",axes=F,ann=F)
legend("left","y = f(x)",col="blue",lwd=3)
```


On the same plane, please draw the curve represented by the equation below:

$$y=`r exp1`$$


\newpage


## Question 2


```{r,echo=F}
exp_types = sample(1:8,2)
et1 = exp_types[1]
et2 = exp_types[2]
exp_frames = c("M\\left(x+A\\right)",
               "Mx+A",
               "M\\left(x-A\\right)",
               "Mx-A",
               "\\frac{x+A}{M}",
               "\\frac{x}{M}+A",
               "\\frac{x-A}{M}",
               "\\frac{x}{M}-A")

funcs = list(function(x,A,M){M*(x+A)},
             function(x,A,M){M*x+A},
             function(x,A,M){M*(x-A)},
             function(x,A,M){M*x-A},
             function(x,A,M){(x+A)/M},
             function(x,A,M){x/M+A},
             function(x,A,M){(x-A)/M},
             function(x,A,M){x/M-A}
             )
while(T){
    mults = sample(c(2:3),2)
    Mx = mults[1]
    My = mults[2]
    xspace1 = sample(1:3,1)
    yspace1 = sample(1:3,1)
    xspace2 = xspace1*mults[1]
    yspace2 = yspace1*mults[2]
    xbig = sort(sample(0:floor(20/xspace2),3))*xspace2
    ybig = sample(0:floor(20/yspace2),3)*yspace2
    shifts = sample(1:6,2)
    Ax = shifts[1]
    Ay = shifts[2]
    if(et1<5){
        xsmall = funcs[[9-et1]](xbig,Ax,Mx)
        x1 = xbig
        x2 = xsmall
    } else {
        xsmall = funcs[[et1]](xbig,Ax,Mx)
        x1 = xsmall
        x2 = xbig
    }
    if(et2<5){
        ysmall = funcs[[9-et2]](ybig,Ay,My)
        y1 = ysmall
        y2 = ybig
    } else {
        ysmall = funcs[[et2]](ybig,Ay,My)
        y1 = ybig
        y2 = ysmall
    }
    alldem = c(x1,x2,y1,y2)
    m11 = (y1[2]-y1[1])/(x1[2]-x1[1])
    m12 = (y1[3]-y1[2])/(x1[3]-x1[2])
    if(min(alldem)>=0 && max(alldem)<=20 && sum(alldem%%1==0)==12 && m11 != m12){break}
}


exp1 = exp_frames[et2]
exp1 = gsub("x","f{\\left[X\\right]}",exp1,fixed=T)
exp1 = gsub("A",Ay,exp1,fixed=T)
exp1 = gsub("M",My,exp1,fixed=T)
exp1 = gsub("X",exp_frames[et1],exp1,fixed=T)
exp1 = gsub("A",Ax,exp1,fixed=T)
exp1 = gsub("M",Mx,exp1,fixed=T)


```

Curve $y=f(x)$ contains points $(`r x1[1]`,`r y1[1]`)$ and $(`r x1[2]`,`r y1[2]`)$ and $(`r x1[3]`,`r y1[3]`)$, as shown on the $x$-$y$ plane below.

```{r,echo=F,fig.dim=c(7,3.5)}
par(mar=c(3,3,0,0),oma=c(0,0,0,0),pty="s",mfrow=c(1,2))
plot(0,0,"n",xlim=c(0,20),ylim=c(0,20),axes=F,ann=F)
for(i in 1:20){
    lines(c(i,i),c(0,20),lwd=0.7)
    lines(c(0,20),c(i,i),lwd=0.7)
}
for(i in seq(0,20,5)){
    lines(c(i,i),c(0,20),lwd=1.2)
    lines(c(0,20),c(i,i),lwd=1.2)
}
axis(1,line=0)
axis(2,line=0)
mtext("x",1,line=0.5,at=17.5)
mtext("y",2,line=0.5,at=17.5)
lines(x1,y1,col="blue",lwd=3)
points(x1,y1,col="blue",pch=19,cex=0.8)

if(params$showsol==T){
    lines(x2,y2,col="red",lwd=3)
    points(x2,y2,col="red",pch=19,cex=0.8)
}

plot(0,0,"n",axes=F,ann=F)
legend("left","y = f(x)",col="blue",lwd=3)
```


On the same plane, please draw the curve represented by the equation below:

$$y=`r exp1`$$







