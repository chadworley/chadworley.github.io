---
output: pdf_document
params:
    rseed: 1
    showsol: false
---

Name: \vspace{5pt} \hrule

## p1107: Factoring by Grouping (v`r params$rseed`)

Consider the expression:

$$6x^2+4x+21x+14$$

Notice there is one quadratic term, two linear terms, and one constant. Also, notice that $6\cdot 14 = 4\cdot 21$. Thus the expression is ready to be factored by grouping.

1. For the two first terms, $6x^2$ and $4x$, the greatest common factor is $2x$. Factor it out.
$$2x(3x+2)+21x+14$$
2. For the last two terms, $21x$ and $14$, the greatest common factor is $7$. Factor it out.
$$2x(3x+2)+7(3x+2)$$
3. Now we have two terms, $2x(3x+2)$ and $7(3x+2)$, and both terms share a factor of $(3x+2)$, so we can apply distributive property... backwards... to factor the expression.
$$(3x+2)(2x+7)$$

```{r,echo=F}
options(scipen=999)
maxopt = 10
gcd2 <- function(a, b) {
    if (b == 0) a else Recall(b, a %% b)
}
gcd <- function(...) Reduce(gcd2, c(...))

pfix = function(c,d){
    d = d[c!=0]
    c = c[c!=0]
    p = paste0("{",c,"}x^{",d,"}",collapse="+")
    p = gsub("x^{0}","",p,fixed=T)
    p = gsub("x^{1}","x",p,fixed=T)
    p = gsub("+{-","-{",p,fixed=T)
    p = gsub("+{1}x","+x",p,fixed=T)
    p = gsub("-{1}x","-x",p,fixed=T)
    p = gsub("{-1}x","-x",p,fixed=T)
    p = gsub("{1}x","x",p,fixed=T)
    return(p)
}
```

### Question 1

```{r,echo=FALSE}
while(T){
    PQRS = sample(2:9,4,T)
    P = PQRS[1]
    Q = PQRS[2]
    R = PQRS[3]
    S = PQRS[4]
    pr = prod(c(P,Q,R,S))
    su = P*S+Q*R
    a = P*R
    b = su
    c = Q*S
    addend1 = P*S
    addend2 = Q*R
    ads = c(addend1,addend2)
    ch1 = pfix(c(P,Q),1:0)
    ch2 = pfix(c(R,S),1:0)
    if(abs(pr)<200 && min(abs(ads))<11 && abs(gcd(P,Q))==1 && abs(gcd(R,S))==1 && ch1!=ch2){break}
}

ex1 = pfix(c(a,addend1,addend2,c),c(2,1,1,0))

ex1s = c(ex1)
```


Factor by grouping:

$$`r ex1`$$

```{r,echo=F,results='asis'}
if(params$showsol){
    cat("\\color{red}\n\n")
    # cat(paste0("$$",ex2,"$$\n"))
    # cat(paste0("$$",ex3,"$$\n"))
    cat(paste0("$$(",pfix(c(P,Q),1:0),")(",pfix(c(R,S),1:0),")$$\n"))
    cat("\\color{black}\n\n")
}

```

\vfill

### Question 2

```{r,echo=FALSE}
while(T){
    PQRS = sample(2:9,4,T)
    P = PQRS[1]
    Q = PQRS[2]
    R = PQRS[3]
    S = PQRS[4]
    pr = prod(c(P,Q,R,S))
    su = P*S+Q*R
    a = P*R
    b = su
    c = Q*S
    addend1 = P*S
    addend2 = Q*R
    ads = c(addend1,addend2)
    ch1 = pfix(c(P,Q),1:0)
    ch2 = pfix(c(R,S),1:0)
    ex1 = pfix(c(a,addend1,addend2,c),c(2,1,1,0))
    if(abs(pr)<200 && min(abs(ads))<11 && abs(gcd(P,Q))==1 && abs(gcd(R,S))==1 && ch1!=ch2 && !(ex1 %in% ex1s)){break}
}

ex1s = c(ex1s,ex1)
```


Factor by grouping:

$$`r ex1`$$

```{r,echo=F,results='asis'}
if(params$showsol){
    cat("\\color{red}\n\n")
    # cat(paste0("$$",ex2,"$$\n"))
    # cat(paste0("$$",ex3,"$$\n"))
    cat(paste0("$$(",pfix(c(P,Q),1:0),")(",pfix(c(R,S),1:0),")$$\n"))
    cat("\\color{black}\n\n")
}

```

\vfill

\newpage


### Question 3

```{r,echo=FALSE}
while(T){
    PQRS = sample(2:9,4,T)
    P = PQRS[1]
    Q = PQRS[2]*sample(c(-1,1),1)
    R = PQRS[3]
    S = PQRS[4]*sample(c(-1,1),1)
    pr = prod(c(P,Q,R,S))
    su = P*S+Q*R
    a = P*R
    b = su
    c = Q*S
    addend1 = P*S
    addend2 = Q*R
    ads = c(addend1,addend2)
    ch1 = pfix(c(P,Q),1:0)
    ch2 = pfix(c(R,S),1:0)
    ex1 = pfix(c(a,addend1,addend2,c),c(2,1,1,0))
    if(abs(pr)<200 && min(abs(ads))<11 && abs(gcd(P,Q))==1 && abs(gcd(R,S))==1 && ch1!=ch2 && !(ex1 %in% ex1s)){break}
}

ex1s = c(ex1s,ex1)
```


Factor by grouping:

$$`r ex1`$$

```{r,echo=F,results='asis'}
if(params$showsol){
    cat("\\color{red}\n\n")
    # cat(paste0("$$",ex2,"$$\n"))
    # cat(paste0("$$",ex3,"$$\n"))
    cat(paste0("$$(",pfix(c(P,Q),1:0),")(",pfix(c(R,S),1:0),")$$\n"))
    cat("\\color{black}\n\n")
}

```

\vfill



### Question 4

```{r,echo=FALSE}

while(T){
    PQRS = sample(2:9,4,T)
    P = PQRS[1]
    Q = PQRS[2]*sample(c(-1,1),1)
    R = PQRS[3]
    S = PQRS[4]*sample(c(-1,1),1)
    pr = prod(c(P,Q,R,S))
    su = P*S+Q*R
    a = P*R
    b = su
    c = Q*S
    addend1 = P*S
    addend2 = Q*R
    ads = c(addend1,addend2)
    ch1 = pfix(c(P,Q),1:0)
    ch2 = pfix(c(R,S),1:0)
    ex1 = pfix(c(a,addend1,addend2,c),c(2,1,1,0))
    if(abs(pr)<200 && min(abs(ads))<11 && abs(gcd(P,Q))==1 && abs(gcd(R,S))==1 && ch1!=ch2 && !(ex1 %in% ex1s)){break}
}

ex1s = c(ex1s,ex1)
```


Factor by grouping:

$$`r ex1`$$

```{r,echo=F,results='asis'}
if(params$showsol){
    cat("\\color{red}\n\n")
    # cat(paste0("$$",ex2,"$$\n"))
    # cat(paste0("$$",ex3,"$$\n"))
    cat(paste0("$$(",pfix(c(P,Q),1:0),")(",pfix(c(R,S),1:0),")$$\n"))
    cat("\\color{black}\n\n")
}

```

\vfill


### Question 5

```{r,echo=FALSE}

while(T){
    PQRS = sample(2:9,4,T)
    P = PQRS[1]
    Q = PQRS[2]*sample(c(-1,1),1)
    R = PQRS[3]
    S = PQRS[4]*sample(c(-1,1),1)
    pr = prod(c(P,Q,R,S))
    su = P*S+Q*R
    a = P*R
    b = su
    c = Q*S
    addend1 = P*S
    addend2 = Q*R
    ads = c(addend1,addend2)
    ch1 = pfix(c(P,Q),1:0)
    ch2 = pfix(c(R,S),1:0)
    ex1 = pfix(c(a,addend1,addend2,c),c(2,1,1,0))
    if(abs(pr)<200 && min(abs(ads))<11 && abs(gcd(P,Q))==1 && abs(gcd(R,S))==1 && ch1!=ch2 && !(ex1 %in% ex1s)){break}
}

ex1s = c(ex1s,ex1)
```


Factor by grouping:

$$`r ex1`$$

```{r,echo=F,results='asis'}
if(params$showsol){
    cat("\\color{red}\n\n")
    # cat(paste0("$$",ex2,"$$\n"))
    # cat(paste0("$$",ex3,"$$\n"))
    cat(paste0("$$(",pfix(c(P,Q),1:0),")(",pfix(c(R,S),1:0),")$$\n"))
    cat("\\color{black}\n\n")
}

```

\vfill
