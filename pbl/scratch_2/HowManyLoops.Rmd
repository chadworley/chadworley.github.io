---
output: pdf_document
urlcolor: blue
---

Name: \hspace{4in} Date: \hfill \vspace{3pt} \hrule

# How many loops will my countdown pattern have?

* Two key parameters that dictate the countdown pattern:
    * `turn_deg`: The turn angle (in degrees)
    * `count_max`: The countdown maximum (which is also number of segments per loop)
* From those, **can we predict how many loops are formed?**
* For example, if we set the parameters to the values below:
    * `turn_deg` = 108° which is equivalent to $\frac{3}{10}$ full turn
    * `count_max` = 6
    * Then we get 5 loops:\
```{r,echo=F,fig.dim=c(1,1)}
drawit = function(L=16,dD=-pi/2,D=-pi/2,n=1000,lwd=1,col="blue"){
    x = c(0)
    y = c(0)
    l = L
    for(i in 1:n){
        x0 = x[i]
        y0 = y[i]
        x2 = x[i]+l*cos(D)
        y2 = y[i]+l*sin(D)
        l = (l-2)%%L+1
        D = D+dD
        x = c(x,x2)
        y = c(y,y2)
        if(abs(x2)<0.001 && abs(y2)<0.001){break}
    }
    xmin = min(x)
    xmax = max(x)
    xmid = mean(c(xmin,xmax))
    ymin = min(y)
    ymax = max(y)
    ymid = mean(c(ymin,ymax))
    r = max(c(xmax-xmid,ymax-ymid))
    xlo = xmid-r
    xhi = xmid+r
    ylo = ymid-r
    yhi = ymid+r
    plot(0,0,"n",ann=F,xlim=c(xlo,xhi),ylim=c(ylo,yhi))
    lines(x,y,lwd=lwd,col=col)
}
par(mar=c(0,0,0,0),pty="s",oma=c(0,0,0,0))
drawit(L=6,dD=3*pi/5,lwd=1.5)
```
* Sometimes we can get infinity loops. For example:
    * `turn_deg` = 90° which is equivalent to $\frac{1}{4}$ full turn
    * `count_max` = 8\
```{r,echo=F,fig.dim=c(1,1)}
par(mar=c(0,0,0,0),pty="s",oma=c(0,0,0,0))
drawit(L=8,dD=pi/2,n=128)
```
    * Notice, this pattern would continue forever, making `loops`=$\infty$.
* As suggested before, it'll be useful to use **fraction of a full turn** instead of degrees. Some examples:
$$120^{\circ}=\frac{1}{3}\text{ full turn}$$
$$90^{\circ}=\frac{1}{4}\text{ full turn}$$
$$72^{\circ}=\frac{1}{5}\text{ full turn}$$
$$144^{\circ}=\frac{2}{5}\text{ full turn}$$
$$60^{\circ}=\frac{1}{6}\text{ full turn}$$
* In our new Scratch project, we will set the numerator and denominator of the turn fraction.
    * https://scratch.mit.edu/projects/1216750917
    * `turn_a` is the numerator (top of fraction)
    * `turn_b` is the denominator (bottom of fraction)
    * The computer will calculate `turn_deg` for you. $$\mathtt{turn\_deg}~=~360^{\circ}\cdot \frac{\mathtt{turn\_a}}{\mathtt{turn\_b}}$$
    * You can use arrow keys (on keyboard) to adjust `turn_a`, `turn_b`, and `count_max`.
    * I have coded an automatic scaling and recentering, so you do not need to worry about those parameters.
    * You'll definitely want **Turbo Mode**, so make sure you "Look Inside".
* In order to find the prediction rule, record some results in tables.

\newpage

Name: \hspace{4in} Date: \hfill \vspace{3pt} \hrule

# How many loops will my countdown pattern have?

```{r,echo=F,warning=F,eval=F}
library(kableExtra)
turn_a = rep(1,10)
turn_b = rep(3,10)
count_max = c(1,2,3,4,5,6,7,8,9,10)
turn_deg = rep(" ",10)
loops = rep(" ",10)
df = data.frame(turn_a,turn_b,count_max,turn_deg,loops)
kable(df,format = "latex",  align =c("|c|"), booktabs = T)

```

\begin{tabular}{|c|c|c|c|c|}
  \hline
  turn a & turn b & count max & turn deg & loops \\
  \hline
  1 & 3 & 1 &  $\phantom{\cfrac{222222222222222222222222}{2222}}$  & $\phantom{\cfrac{222222222222222222222222}{2222}}$ \\
  \hline
  1 & 3 & 2 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 3 & 3 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 3 & 4 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 3 & 5 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 3 & 6 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 3 & 7 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
\end{tabular}

\begin{tabular}{|c|c|c|c|c|}
  \hline
  turn a & turn b & count max & turn deg & loops \\
  \hline
  1 & 4 & 1 &  $\phantom{\cfrac{222222222222222222222222}{2222}}$  & $\phantom{\cfrac{222222222222222222222222}{2222}}$ \\
  \hline
  1 & 4 & 2 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 4 & 3 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 4 & 4 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 4 & 5 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 4 & 6 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 4 & 7 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
\end{tabular}


\begin{tabular}{|c|c|c|c|c|}
  \hline
  turn a & turn b & count max & turn deg & loops \\
  \hline
  1 & 6 & 1 &  $\phantom{\cfrac{222222222222222222222222}{2222}}$  & $\phantom{\cfrac{222222222222222222222222}{2222}}$ \\
  \hline
  1 & 6 & 2 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 6 & 3 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 6 & 4 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 6 & 5 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 6 & 6 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  1 & 6 & 7 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
\end{tabular}

\newpage

Name: \hspace{4in} Date: \hfill \vspace{3pt} \hrule

# How many loops will my countdown pattern have?

\begin{tabular}{|c|c|c|c|c|}
  \hline
  turn a & turn b & count max & turn deg & loops \\
  \hline
  7 & 30 & 1 &  $\phantom{\cfrac{222222222222222222222222}{2222}}$  & $\phantom{\cfrac{222222222222222222222222}{2222}}$ \\
  \hline
  7 & 30 & 2 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 3 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 4 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 5 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 6 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 7 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 8 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 9 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 10 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 11 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 12 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 13 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 14 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 15 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 16 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 17 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
  7 & 30 & 18 & $\phantom{\cfrac{2222}{2222}}$ & $\phantom{\cfrac{2222}{2222}}$ \\
  \hline
\end{tabular}

## What's the rule?

* **What rule dictates the number of loops?**



\newpage

Name: \hspace{4in} Date: \hfill \vspace{3pt} \hrule

# How many loops will my countdown pattern have?

* On this page, please record some parameter settings that you feel produce aesthetically pleasing results.
* Or, use this page to continue investigating the rule that dictates the number of loops.


```{r,echo=F,results="asis"}
sspace = "$\\phantom{\\cfrac{\\cfrac{2222222222222}{222}}{8}}$"
s = "\\begin{tabular}{|c|c|c|c|c|c|}\n\\hline\n turn a & turn b & count max & turn deg & loops & comments \\\\\n\\hline\n"
s2 = paste0(paste0(rep(sspace,6),collapse=" & ")," \\\\\n\\hline\n")
s3 = paste0(rep(s2,15),collapse="\n")
s = paste0(s,s3,"\n\\end{tabular}\n")
cat(s)
```

